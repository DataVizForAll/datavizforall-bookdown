<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Fork and Edit Leaflet Map with CSV Data | Hands-On Data Visualization</title>
  <meta name="description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Fork and Edit Leaflet Map with CSV Data | Hands-On Data Visualization" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://handsondataviz.github.io/" />
  
  <meta property="og:description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  <meta name="github-repo" content="handsondataviz/book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Fork and Edit Leaflet Map with CSV Data | Hands-On Data Visualization" />
  <meta name="twitter:site" content="@handsondataviz" />
  <meta name="twitter:description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="Ilya Ilyankou" />


<meta name="date" content="2020-07-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="leaflet.html"/>
<link rel="next" href="leaflet-maps-with-google-sheets.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-5488840-29"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-5488840-29');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><strong>Hands-On Data Visualization</strong><br>by Jack Dougherty & Ilya Ilyankou</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="authors.html"><a href="authors.html"><i class="fa fa-check"></i>Authors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="what.html"><a href="what.html"><i class="fa fa-check"></i>What is Data Visualization?</a></li>
<li class="chapter" data-level="" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i>Why this book?</a></li>
<li class="chapter" data-level="" data-path="how-to-read.html"><a href="how-to-read.html"><i class="fa fa-check"></i>How to Read on the Web</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="choose.html"><a href="choose.html"><i class="fa fa-check"></i><b>1</b> Choose Tools to Tell Your Data Story</a>
<ul>
<li class="chapter" data-level="" data-path="draw.html"><a href="draw.html"><i class="fa fa-check"></i>Draw and Write Your Data Story</a></li>
<li class="chapter" data-level="" data-path="ask.html"><a href="ask.html"><i class="fa fa-check"></i>Ask Questions When Choosing Tools</a></li>
<li class="chapter" data-level="" data-path="rate.html"><a href="rate.html"><i class="fa fa-check"></i>Rate Three Simple Map Tools</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="spreadsheet.html"><a href="spreadsheet.html"><i class="fa fa-check"></i><b>2</b> Strengthen Spreadsheet Skills</a>
<ul>
<li class="chapter" data-level="" data-path="spreadsheet-tool.html"><a href="spreadsheet-tool.html"><i class="fa fa-check"></i>Select your Spreadsheet Tool</a></li>
<li class="chapter" data-level="" data-path="csv.html"><a href="csv.html"><i class="fa fa-check"></i>Download and Export to CSV or ODS formats</a></li>
<li class="chapter" data-level="" data-path="copy.html"><a href="copy.html"><i class="fa fa-check"></i>Make Your Own Copy of a Google Sheet</a></li>
<li class="chapter" data-level="" data-path="share.html"><a href="share.html"><i class="fa fa-check"></i>Share Your Google Sheets</a></li>
<li class="chapter" data-level="" data-path="upload.html"><a href="upload.html"><i class="fa fa-check"></i>Upload and Convert Data to Google Sheets</a></li>
<li class="chapter" data-level="" data-path="forms.html"><a href="forms.html"><i class="fa fa-check"></i>Collect Data with Online Forms</a></li>
<li class="chapter" data-level="" data-path="sort.html"><a href="sort.html"><i class="fa fa-check"></i>Sort and Filter Data</a></li>
<li class="chapter" data-level="" data-path="calculate.html"><a href="calculate.html"><i class="fa fa-check"></i>Calculate with Formulas and Functions</a></li>
<li class="chapter" data-level="" data-path="pivot.html"><a href="pivot.html"><i class="fa fa-check"></i>Regroup Data with Pivot Tables</a></li>
<li class="chapter" data-level="" data-path="vlookup.html"><a href="vlookup.html"><i class="fa fa-check"></i>Match Columns with VLOOKUP</a></li>
<li class="chapter" data-level="" data-path="database.html"><a href="database.html"><i class="fa fa-check"></i>Connect Sheets with Relational Database</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="find.html"><a href="find.html"><i class="fa fa-check"></i><b>3</b> Find and Know Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="bad.html"><a href="bad.html"><i class="fa fa-check"></i>Recognize Bad Data</a></li>
<li class="chapter" data-level="" data-path="source.html"><a href="source.html"><i class="fa fa-check"></i>Source Your Data</a></li>
<li class="chapter" data-level="" data-path="public.html"><a href="public.html"><i class="fa fa-check"></i>Public versus Private Data</a></li>
<li class="chapter" data-level="" data-path="opendata.html"><a href="opendata.html"><i class="fa fa-check"></i>Open Data Repositories</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>4</b> Clean Up Messy Data</a>
<ul>
<li class="chapter" data-level="" data-path="clean-spreadsheets.html"><a href="clean-spreadsheets.html"><i class="fa fa-check"></i>Clean Data with Spreadsheets</a></li>
<li class="chapter" data-level="" data-path="tabula.html"><a href="tabula.html"><i class="fa fa-check"></i>Extract Tables from PDFs with Tabula</a></li>
<li class="chapter" data-level="" data-path="open-refine.html"><a href="open-refine.html"><i class="fa fa-check"></i>Clean Data with OpenRefine</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chart.html"><a href="chart.html"><i class="fa fa-check"></i><b>5</b> Chart Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="chart-design.html"><a href="chart-design.html"><i class="fa fa-check"></i>Chart Design Principles</a></li>
<li class="chapter" data-level="" data-path="chart-google-sheets.html"><a href="chart-google-sheets.html"><i class="fa fa-check"></i>Google Sheets Charts</a></li>
<li class="chapter" data-level="" data-path="column-bar-google.html"><a href="column-bar-google.html"><i class="fa fa-check"></i>Column and Bar Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="pie-line-area-google.html"><a href="pie-line-area-google.html"><i class="fa fa-check"></i>Pie, Line, and Area Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="scatter-bubble-google.html"><a href="scatter-bubble-google.html"><i class="fa fa-check"></i>XY Scatter and Bubble Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="tableau-public.html"><a href="tableau-public.html"><i class="fa fa-check"></i>Create Charts with Tableau Public</a></li>
<li class="chapter" data-level="" data-path="scatter-chart-tableau.html"><a href="scatter-chart-tableau.html"><i class="fa fa-check"></i>Create XY Scatter Chart with Tableau Public</a></li>
<li class="chapter" data-level="" data-path="filtered-line-chart-tableau.html"><a href="filtered-line-chart-tableau.html"><i class="fa fa-check"></i>Create Filtered Line Chart with Tableau Public</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="map.html"><a href="map.html"><i class="fa fa-check"></i><b>6</b> Map Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="map-design.html"><a href="map-design.html"><i class="fa fa-check"></i>Map Design Principles</a></li>
<li class="chapter" data-level="" data-path="mymaps.html"><a href="mymaps.html"><i class="fa fa-check"></i>Point Map with Google My Maps</a></li>
<li class="chapter" data-level="" data-path="carto.html"><a href="carto.html"><i class="fa fa-check"></i>Point Map with Carto Builder</a></li>
<li class="chapter" data-level="" data-path="filtered-point-map-socrata.html"><a href="filtered-point-map-socrata.html"><i class="fa fa-check"></i>Filtered Point Map with Socrata Open Data</a></li>
<li class="chapter" data-level="" data-path="social-explorer-maps.html"><a href="social-explorer-maps.html"><i class="fa fa-check"></i>Polygon Maps and Storyboards with Social Explorer</a></li>
<li class="chapter" data-level="" data-path="tableau-polygon.html"><a href="tableau-polygon.html"><i class="fa fa-check"></i>Polygon Map with Tableau Public</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="embed.html"><a href="embed.html"><i class="fa fa-check"></i><b>7</b> Embed On Your Web</a>
<ul>
<li class="chapter" data-level="" data-path="github-pages.html"><a href="github-pages.html"><i class="fa fa-check"></i>Create a Simple Web Page with GitHub Pages</a></li>
<li class="chapter" data-level="" data-path="iframe-google-sheets.html"><a href="iframe-google-sheets.html"><i class="fa fa-check"></i>Copy an iframe code from a Google Sheets interactive chart</a></li>
<li class="chapter" data-level="" data-path="link-to-iframe.html"><a href="link-to-iframe.html"><i class="fa fa-check"></i>Convert a Weblink into an Iframe</a></li>
<li class="chapter" data-level="" data-path="iframe-github.html"><a href="iframe-github.html"><i class="fa fa-check"></i>Embed an Iframe in GitHub Pages</a></li>
<li class="chapter" data-level="" data-path="iframe-wordpress.html"><a href="iframe-wordpress.html"><i class="fa fa-check"></i>Embed an Iframe on WordPress.org</a></li>
<li class="chapter" data-level="" data-path="iframe-tableau.html"><a href="iframe-tableau.html"><i class="fa fa-check"></i>Embed Tableau Public on your Website</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>8</b> Edit and Host Code with GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="copy-leaflet.html"><a href="copy-leaflet.html"><i class="fa fa-check"></i>Copy, Edit, and Host a Simple Leaflet Map Template</a></li>
<li class="chapter" data-level="" data-path="create-repo.html"><a href="create-repo.html"><i class="fa fa-check"></i>Create a New Repo and Upload Files on GitHub</a></li>
<li class="chapter" data-level="" data-path="github-desktop-atom.html"><a href="github-desktop-atom.html"><i class="fa fa-check"></i>GitHub Desktop and Atom Editor to Code Efficiently</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chartjs-highcharts.html"><a href="chartjs-highcharts.html"><i class="fa fa-check"></i><b>9</b> Chart.js and Highcharts Templates</a>
<ul>
<li class="chapter" data-level="" data-path="chartjs-bar-csv.html"><a href="chartjs-bar-csv.html"><i class="fa fa-check"></i>Bar Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-line-csv.html"><a href="chartjs-line-csv.html"><i class="fa fa-check"></i>Line Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-scatter-csv.html"><a href="chartjs-scatter-csv.html"><i class="fa fa-check"></i>Scatter Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-bubble-csv.html"><a href="chartjs-bubble-csv.html"><i class="fa fa-check"></i>Bubble Chart.js with CSV Data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>10</b> Leaflet Map Templates</a>
<ul>
<li class="chapter" data-level="" data-path="leaflet-csv.html"><a href="leaflet-csv.html"><i class="fa fa-check"></i>Fork and Edit Leaflet Map with CSV Data</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-with-google-sheets.html"><a href="leaflet-maps-with-google-sheets.html"><i class="fa fa-check"></i>Leaflet Maps with Google Sheets template</a></li>
<li class="chapter" data-level="" data-path="leaflet-storymaps-with-google-sheets.html"><a href="leaflet-storymaps-with-google-sheets.html"><i class="fa fa-check"></i>Leaflet Storymaps with Google Sheets and Scrolling Narrative</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-with-api.html"><a href="leaflet-maps-with-api.html"><i class="fa fa-check"></i>Leaflet Maps with Open Data API</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-open-apis.html"><a href="leaflet-maps-open-apis.html"><i class="fa fa-check"></i>Pull Open Data into Leaflet Map with APIs</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-click.html"><a href="leaflet-polygon-map-click.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Clickable Info Window template</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-hover.html"><a href="leaflet-polygon-map-hover.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Hover Info Window template</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-multi-year-tabs.html"><a href="leaflet-polygon-map-multi-year-tabs.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Multi-Year Tabs template</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>11</b> Transform Your Map Data</a>
<ul>
<li class="chapter" data-level="" data-path="geocode.html"><a href="geocode.html"><i class="fa fa-check"></i>Geocode Locations into Coordinates with US Census or Google</a></li>
<li class="chapter" data-level="" data-path="pivot-point-to-polygon.html"><a href="pivot-point-to-polygon.html"><i class="fa fa-check"></i>Pivot Address-Level Point Data into Polygon Data</a></li>
<li class="chapter" data-level="" data-path="normalize.html"><a href="normalize.html"><i class="fa fa-check"></i>Normalize Data to Create Meaningful Polygon Maps</a></li>
<li class="chapter" data-level="" data-path="convert-geojson.html"><a href="convert-geojson.html"><i class="fa fa-check"></i>Convert to GeoJSON format</a></li>
<li class="chapter" data-level="" data-path="geojsonio.html"><a href="geojsonio.html"><i class="fa fa-check"></i>GeoJson.io to Convert, Edit, and Create Map Data</a></li>
<li class="chapter" data-level="" data-path="mapshaper.html"><a href="mapshaper.html"><i class="fa fa-check"></i>Mapshaper to Convert, Edit, and Join Data</a></li>
<li class="chapter" data-level="" data-path="convert-kmz.html"><a href="convert-kmz.html"><i class="fa fa-check"></i>Convert a Compressed KMZ file to KML format</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="detect.html"><a href="detect.html"><i class="fa fa-check"></i><b>12</b> Detect Bias in Data Stories</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-lie-with-charts.html"><a href="how-to-lie-with-charts.html"><i class="fa fa-check"></i>How to Lie with Charts</a></li>
<li class="chapter" data-level="" data-path="how-to-lie-with-maps.html"><a href="how-to-lie-with-maps.html"><i class="fa fa-check"></i>How to Lie with Maps</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="story.html"><a href="story.html"><i class="fa fa-check"></i><b>13</b> Tell Your Data Story</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="fix.html"><a href="fix.html"><i class="fa fa-check"></i><b>A</b> Fix Common Mistakes</a></li>
<li class="chapter" data-level="B" data-path="ct.html"><a href="ct.html"><i class="fa fa-check"></i><b>B</b> Find Connecticut Data</a></li>
<li class="chapter" data-level="C" data-path="peer.html"><a href="peer.html"><i class="fa fa-check"></i><b>C</b> Peer Review Samples</a>
<ul>
<li class="chapter" data-level="" data-path="peer-2-chart-1.html"><a href="peer-2-chart-1.html"><i class="fa fa-check"></i>Section 2 Chart 1 Peer Review Sample</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-1-notes.html"><a href="peer-2-chart-1-notes.html"><i class="fa fa-check"></i>Section 2 Chart 1 Peer Review Sample with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-2.html"><a href="peer-2-chart-2.html"><i class="fa fa-check"></i>Section 2 Chart 2 Peer Review Sample</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-2-notes.html"><a href="peer-2-chart-2-notes.html"><i class="fa fa-check"></i>Section 2 Chart 2 Peer Review Sample with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-1.html"><a href="peer-3-sample-1.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 1</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-1-notes.html"><a href="peer-3-sample-1-notes.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 1 with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-2.html"><a href="peer-3-sample-2.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 2</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-2-notes.html"><a href="peer-3-sample-2-notes.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 2 with Notes</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>D</b> Publishing with Bookdown</a>
<ul>
<li><a href="style-guide.html#style-guide">Style Guide for <em>Hands-On Data Visualization</em></a></li>
<li class="chapter" data-level="" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i>Images</a></li>
<li class="chapter" data-level="" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i>Notes and Bibliography</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li style="padding: 10px 15px; font-weight: bold;">Open access book-in-progress</li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown + RStudio</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hands-On Data Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="leaflet-csv" class="section level2 unnumbered" number="">
<h2>Fork and Edit Leaflet Map with CSV Data</h2>
<p>TODO: REWRITE this to serve as a more advanced version (with repo leaflet-map-csv) than the prior chapter (with leaflet-map-simple)</p>
<p>This tutorial introduces more sophisticated Leaflet map code templates (<a href="http://leafletjs.com" class="uri">http://leafletjs.com</a>) that you can modify and host online with GitHub in your browser (<a href="http://github.com" class="uri">http://github.com</a>). You will learn how to:</p>
<ul>
<li><ol style="list-style-type: upper-alpha">
<li>Fork (copy) Leaflet template to your GitHub account</li>
</ol></li>
<li><ol start="2" style="list-style-type: upper-alpha">
<li>Publish your live map to public web with GitHub Pages</li>
</ol></li>
<li><ol start="3" style="list-style-type: upper-alpha">
<li>Modify your map title and add layer controls</li>
</ol></li>
<li><ol start="4" style="list-style-type: upper-alpha">
<li>Geocode addresses <a href="https://docs.google.com/spreadsheets/d/1z_0hKbw8Ff_fdp-XRoRL4YWe6ue0c0EpITveZ2rz1e8/">in a Google Sheet</a> and upload points from data.csv</li>
</ol></li>
</ul>
<p>Code templates help us to move beyond the limits of drag-and-drop web mapping services (such as Google MyMaps) and to create more customized visualizations on a web server that you control. Before you begin, learn the broad concepts in the chapter introduction <a href="github.html">Edit and Host Code with GitHub</a>. If you have problems with this tutorial, go to the <a href="fix.html">Fix Common Mistakes</a> section of the appendix.</p>
<p>TODO: add demo, remove unnecessary basic steps from below (covered in prior chapter)</p>
<p>Video:
<iframe width="560" height="315" src="https://www.youtube.com/embed/7iUocaxTYqk?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>
<div id="a-fork-copy-leaflet-template-to-your-github-account" class="section level4 unnumbered" number="">
<h4>A) Fork (copy) Leaflet template to your GitHub account</h4>
<p>Before you begin, sign up for a free GitHub account: <a href="http://github.com" class="uri">http://github.com</a></p>
<ol style="list-style-type: decimal">
<li><p>Right-click to open this GitHub code template in a new tab: <a href="https://github.com/handsondataviz/leaflet-map-simple" class="uri">https://github.com/handsondataviz/leaflet-map-simple</a></p></li>
<li><p>In the upper-right corner of the code template, sign in to your free GitHub account</p></li>
<li><p>In the upper-right corner, click Fork to copy the template (also called a code repository, or repo) into your GitHub account. The web address (URL) of the new copy in your account will follow this format:</p></li>
</ol>
<div class="sourceCode" id="cb33"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb33-1"><a href="leaflet-csv.html#cb33-1"></a>https://github.com/USERNAME/REPOSITORY</span></code></pre></div>
<p>Reminder: You can only fork a GitHub repo <strong>one time</strong>. If needed, see how to make a second copy in the <a href="create-repo.html">Create a New Repo in GitHub</a> chapter in this book.</p>
</div>
<div id="b-publish-your-live-map-to-public-web-with-github-pages" class="section level4 unnumbered" number="">
<h4>B) Publish your live map to public web with GitHub Pages</h4>
<ol start="4" style="list-style-type: decimal">
<li><p>In your new copy of the code repo, click on Settings, scroll down to the GitHub Pages area, select Master, and Save. This publishes your code template to a live map on a public website that you control.</p></li>
<li><p>Scroll down to GitHub Pages section again, to select and copy the link to your published web site, which will follow this format:</p></li>
</ol>
<div class="sourceCode" id="cb34"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb34-1"><a href="leaflet-csv.html#cb34-1"></a>https://USERNAME.github.io/REPOSITORY</span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li><p>Scroll up to the top, and click on your repo name to go back to its main page.</p></li>
<li><p>At the top level of your repo main page, click on README.md, and click the pencil icon to edit this file, written in easy-to-read Markdown code.</p></li>
<li><p>Delete the link to the current live site, and paste in the link to your site. Scroll down and Commit to save your edits.</p></li>
<li><p>On your repo main page, right-click on the link to your published site to open in a new tab. <strong>Be patient</strong> during busy periods, because your website may take up to 1 minute to appear the first time.</p></li>
</ol>
</div>
<div id="c-modify-your-map-title-and-add-layer-controls" class="section level4 unnumbered" number="">
<h4>C) Modify your map title and add layer controls</h4>
<ol start="10" style="list-style-type: decimal">
<li><p>Go back to your browser tab for your code repo. Click on the index.html file (which contains the map code), and click the pencil icon to edit it.</p></li>
<li><p>Explore the map code, which contains HTML, CSS, and JavaScript. Look for sections that begin with “EDIT” for items that you can easily change. Scroll down to Commit your changes.</p></li>
<li><p>Go to your live website browser tab and refresh the page to view your edits. <strong>Be patient</strong> during busy periods, when some edits may take up to 1 minute to appear.</p></li>
<li><p>To change your map title in the index.html file, click the pencil symbol (to edit) and go to lines 23-25. Replace “EDIT your map title” with your new title:</p></li>
</ol>
<div class="sourceCode" id="cb35"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb35-1"><a href="leaflet-csv.html#cb35-1"></a><span class="co">&lt;!-- Display the map and title with HTML division tags  --&gt;</span></span>
<span id="cb35-2"><a href="leaflet-csv.html#cb35-2"></a><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;map-title&quot;</span><span class="kw">&gt;</span>EDIT your map title<span class="kw">&lt;/div&gt;</span></span>
<span id="cb35-3"><a href="leaflet-csv.html#cb35-3"></a><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;map&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<ol start="14" style="list-style-type: decimal">
<li>To change your initial map zoom level, edit the index.html file and go to line 33. The zoom range for this map is from 1 (max zoom out) to 18 (max zoom in).</li>
</ol>
<div class="sourceCode" id="cb36"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb36-1"><a href="leaflet-csv.html#cb36-1"></a><span class="co">// Set up initial map center and zoom level</span></span>
<span id="cb36-2"><a href="leaflet-csv.html#cb36-2"></a><span class="kw">var</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(<span class="st">&#39;map&#39;</span><span class="op">,</span> {</span>
<span id="cb36-3"><a href="leaflet-csv.html#cb36-3"></a>  <span class="dt">center</span><span class="op">:</span> [<span class="fl">41.77</span><span class="op">,</span> <span class="fl">-72.69</span>]<span class="op">,</span> <span class="co">// EDIT latitude, longitude to re-center map</span></span>
<span id="cb36-4"><a href="leaflet-csv.html#cb36-4"></a>  <span class="dt">zoom</span><span class="op">:</span> <span class="dv">12</span><span class="op">,</span>  <span class="co">// EDIT from 1 to 18 -- decrease to zoom out, increase to zoom in</span></span>
<span id="cb36-5"><a href="leaflet-csv.html#cb36-5"></a>  <span class="dt">scrollWheelZoom</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb36-6"><a href="leaflet-csv.html#cb36-6"></a>})<span class="op">;</span></span></code></pre></div>
<ol start="15" style="list-style-type: decimal">
<li>To change the default basemap, edit lines 46 and 52 to delete “.addTo(map)” from the Carto light layer, then add it to the Stamen colored terrain layer. DO NOT erase the semicolons!</li>
</ol>
<p>Your original code looks like this (scroll to right to see all):</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb37-1"><a href="leaflet-csv.html#cb37-1"></a><span class="co">/* Carto light-gray basemap tiles with labels */</span></span>
<span id="cb37-2"><a href="leaflet-csv.html#cb37-2"></a>  <span class="kw">var</span> light <span class="op">=</span> L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">&#39;https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png&#39;</span><span class="op">,</span> {</span>
<span id="cb37-3"><a href="leaflet-csv.html#cb37-3"></a>    <span class="dt">attribution</span><span class="op">:</span> <span class="st">&#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;, &amp;copy; &lt;a href=&quot;https://carto.com/attribution&quot;&gt;CARTO&lt;/a&gt;&#39;</span></span>
<span id="cb37-4"><a href="leaflet-csv.html#cb37-4"></a>  })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span> <span class="co">// EDIT - insert or remove &quot;.addTo(map)&quot; before last semicolon to display by default</span></span>
<span id="cb37-5"><a href="leaflet-csv.html#cb37-5"></a>  <span class="co">// controlLayers.addBaseLayer(light, &#39;Carto Light basemap&#39;);</span></span>
<span id="cb37-6"><a href="leaflet-csv.html#cb37-6"></a>  <span class="co">/* Stamen colored terrain basemap tiles with labels */</span></span>
<span id="cb37-7"><a href="leaflet-csv.html#cb37-7"></a>  <span class="kw">var</span> terrain <span class="op">=</span> L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">&#39;https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png&#39;</span><span class="op">,</span> {</span>
<span id="cb37-8"><a href="leaflet-csv.html#cb37-8"></a>    <span class="dt">attribution</span><span class="op">:</span> <span class="st">&#39;Map tiles by &lt;a href=&quot;http://stamen.com&quot;&gt;Stamen Design&lt;/a&gt;, under &lt;a href=&quot;http://creativecommons.org/licenses/by/3.0&quot;&gt;CC BY 3.0&lt;/a&gt;. Data by &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt;, under &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;ODbL&lt;/a&gt;.&#39;</span></span>
<span id="cb37-9"><a href="leaflet-csv.html#cb37-9"></a>  })<span class="op">;</span> <span class="co">// EDIT - insert or remove &quot;.addTo(map)&quot; before last semicolon to display by default</span></span>
<span id="cb37-10"><a href="leaflet-csv.html#cb37-10"></a>  <span class="co">// controlLayers.addBaseLayer(terrain, &#39;Stamen Terrain basemap&#39;);</span></span></code></pre></div>
<p>After you edit the code, it should look like this (scroll to right to see all):</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb38-1"><a href="leaflet-csv.html#cb38-1"></a><span class="co">/* Carto light-gray basemap tiles with labels */</span></span>
<span id="cb38-2"><a href="leaflet-csv.html#cb38-2"></a><span class="kw">var</span> light <span class="op">=</span> L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">&#39;https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png&#39;</span><span class="op">,</span> {</span>
<span id="cb38-3"><a href="leaflet-csv.html#cb38-3"></a>  <span class="dt">attribution</span><span class="op">:</span> <span class="st">&#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;, &amp;copy; &lt;a href=&quot;https://carto.com/attribution&quot;&gt;CARTO&lt;/a&gt;&#39;</span></span>
<span id="cb38-4"><a href="leaflet-csv.html#cb38-4"></a>})<span class="op">;</span> <span class="co">// EDIT - insert or remove &quot;.addTo(map)&quot; before last semicolon to display by default</span></span>
<span id="cb38-5"><a href="leaflet-csv.html#cb38-5"></a><span class="co">// controlLayers.addBaseLayer(light, &#39;Carto Light basemap&#39;);</span></span>
<span id="cb38-6"><a href="leaflet-csv.html#cb38-6"></a><span class="co">/* Stamen colored terrain basemap tiles with labels */</span></span>
<span id="cb38-7"><a href="leaflet-csv.html#cb38-7"></a><span class="kw">var</span> terrain <span class="op">=</span> L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">&#39;https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png&#39;</span><span class="op">,</span> {</span>
<span id="cb38-8"><a href="leaflet-csv.html#cb38-8"></a>  <span class="dt">attribution</span><span class="op">:</span> <span class="st">&#39;Map tiles by &lt;a href=&quot;http://stamen.com&quot;&gt;Stamen Design&lt;/a&gt;, under &lt;a href=&quot;http://creativecommons.org/licenses/by/3.0&quot;&gt;CC BY 3.0&lt;/a&gt;. Data by &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt;, under &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;ODbL&lt;/a&gt;.&#39;</span></span>
<span id="cb38-9"><a href="leaflet-csv.html#cb38-9"></a>})<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span> <span class="co">// EDIT - insert or remove &quot;.addTo(map)&quot; before last semicolon to display by default</span></span>
<span id="cb38-10"><a href="leaflet-csv.html#cb38-10"></a><span class="co">// controlLayers.addBaseLayer(terrain, &#39;Stamen Terrain basemap&#39;);</span></span></code></pre></div>
<ol start="16" style="list-style-type: decimal">
<li>To add a control panel that turns on/off map layers, delete the code comment symbols (//) that appear in front of lines 38-41, 47, and 53 to activate these sections. When you remove code comments in GitHub, the color changes from gray text (inactive code) to colored text (active code). After you remove the code comments, your file should look like this (scroll to right to see all):</li>
</ol>
<div class="sourceCode" id="cb39"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb39-1"><a href="leaflet-csv.html#cb39-1"></a><span class="co">/* Control panel to display map layers */</span></span>
<span id="cb39-2"><a href="leaflet-csv.html#cb39-2"></a> <span class="kw">var</span> controlLayers <span class="op">=</span> L<span class="op">.</span><span class="at">control</span><span class="op">.</span><span class="fu">layers</span>( <span class="kw">null</span><span class="op">,</span> <span class="kw">null</span><span class="op">,</span> {</span>
<span id="cb39-3"><a href="leaflet-csv.html#cb39-3"></a>  <span class="dt">position</span><span class="op">:</span> <span class="st">&quot;topright&quot;</span><span class="op">,</span></span>
<span id="cb39-4"><a href="leaflet-csv.html#cb39-4"></a>  <span class="dt">collapsed</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb39-5"><a href="leaflet-csv.html#cb39-5"></a> })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb39-6"><a href="leaflet-csv.html#cb39-6"></a></span>
<span id="cb39-7"><a href="leaflet-csv.html#cb39-7"></a><span class="co">/* Carto light-gray basemap tiles with labels */</span></span>
<span id="cb39-8"><a href="leaflet-csv.html#cb39-8"></a><span class="kw">var</span> light <span class="op">=</span> L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">&#39;https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png&#39;</span><span class="op">,</span> {</span>
<span id="cb39-9"><a href="leaflet-csv.html#cb39-9"></a>  <span class="dt">attribution</span><span class="op">:</span> <span class="st">&#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;, &amp;copy; &lt;a href=&quot;https://carto.com/attribution&quot;&gt;CARTO&lt;/a&gt;&#39;</span></span>
<span id="cb39-10"><a href="leaflet-csv.html#cb39-10"></a>})<span class="op">;</span> <span class="co">// EDIT - insert or remove &quot;.addTo(map)&quot; before last semicolon to display by default</span></span>
<span id="cb39-11"><a href="leaflet-csv.html#cb39-11"></a> controlLayers<span class="op">.</span><span class="fu">addBaseLayer</span>(light<span class="op">,</span> <span class="st">&#39;Carto Light basemap&#39;</span>)<span class="op">;</span></span>
<span id="cb39-12"><a href="leaflet-csv.html#cb39-12"></a><span class="co">/* Stamen colored terrain basemap tiles with labels */</span></span>
<span id="cb39-13"><a href="leaflet-csv.html#cb39-13"></a><span class="kw">var</span> terrain <span class="op">=</span> L<span class="op">.</span><span class="fu">tileLayer</span>(<span class="st">&#39;https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png&#39;</span><span class="op">,</span> {</span>
<span id="cb39-14"><a href="leaflet-csv.html#cb39-14"></a>  <span class="dt">attribution</span><span class="op">:</span> <span class="st">&#39;Map tiles by &lt;a href=&quot;http://stamen.com&quot;&gt;Stamen Design&lt;/a&gt;, under &lt;a href=&quot;http://creativecommons.org/licenses/by/3.0&quot;&gt;CC BY 3.0&lt;/a&gt;. Data by &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt;, under &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;ODbL&lt;/a&gt;.&#39;</span></span>
<span id="cb39-15"><a href="leaflet-csv.html#cb39-15"></a>})<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span> <span class="co">// EDIT - insert or remove &quot;.addTo(map)&quot; before last semicolon to display by default</span></span>
<span id="cb39-16"><a href="leaflet-csv.html#cb39-16"></a> controlLayers<span class="op">.</span><span class="fu">addBaseLayer</span>(terrain<span class="op">,</span> <span class="st">&#39;Stamen Terrain basemap&#39;</span>)<span class="op">;</span></span></code></pre></div>
<ol start="17" style="list-style-type: decimal">
<li>To change one point on the map, you could edit the latitude and longitude coordinates of the single marker in lines 55-57. To find coordinates for any location and to learn more, go to <a href="http://www.latlong.net" class="uri">http://www.latlong.net</a></li>
</ol>
<div class="sourceCode" id="cb40"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb40-1"><a href="leaflet-csv.html#cb40-1"></a><span class="co">/* Display a blue point marker with pop-up text */</span></span>
<span id="cb40-2"><a href="leaflet-csv.html#cb40-2"></a>L<span class="op">.</span><span class="fu">marker</span>([<span class="fl">41.77</span><span class="op">,</span> <span class="fl">-72.69</span>])<span class="op">.</span><span class="fu">addTo</span>(map) <span class="co">// EDIT latitude, longitude to re-position marker</span></span>
<span id="cb40-3"><a href="leaflet-csv.html#cb40-3"></a><span class="op">.</span><span class="fu">bindPopup</span>(<span class="st">&quot;Insert pop-up text here&quot;</span>)<span class="op">;</span> <span class="co">// EDIT pop-up text message</span></span></code></pre></div>
<p>But a better way to display several points is to remove the code comment symbols (//) in front of lines 60-69 to activate this section of code, which pulls map points from the data.csv file in your GitHub repository. After your edits, this section should look like this (scroll right to see all):</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb41-1"><a href="leaflet-csv.html#cb41-1"></a><span class="co">/* Upload Latitude/Longitude markers from data.csv file, show Title in pop-up, and override initial center and zoom to fit all in map */</span></span>
<span id="cb41-2"><a href="leaflet-csv.html#cb41-2"></a> <span class="kw">var</span> customLayer <span class="op">=</span> L<span class="op">.</span><span class="fu">geoJson</span>(<span class="kw">null</span><span class="op">,</span> {</span>
<span id="cb41-3"><a href="leaflet-csv.html#cb41-3"></a>  <span class="dt">onEachFeature</span><span class="op">:</span> <span class="kw">function</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb41-4"><a href="leaflet-csv.html#cb41-4"></a>    layer<span class="op">.</span><span class="fu">bindPopup</span>(feature<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">Title</span>)<span class="op">;</span></span>
<span id="cb41-5"><a href="leaflet-csv.html#cb41-5"></a>  }</span>
<span id="cb41-6"><a href="leaflet-csv.html#cb41-6"></a> })<span class="op">;</span></span>
<span id="cb41-7"><a href="leaflet-csv.html#cb41-7"></a> <span class="kw">var</span> runLayer <span class="op">=</span> omnivore<span class="op">.</span><span class="fu">csv</span>(<span class="st">&#39;data.csv&#39;</span><span class="op">,</span> <span class="kw">null</span><span class="op">,</span> customLayer)</span>
<span id="cb41-8"><a href="leaflet-csv.html#cb41-8"></a> <span class="op">.</span><span class="fu">on</span>(<span class="st">&#39;ready&#39;</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb41-9"><a href="leaflet-csv.html#cb41-9"></a>  map<span class="op">.</span><span class="fu">fitBounds</span>(runLayer<span class="op">.</span><span class="fu">getBounds</span>())<span class="op">;</span></span>
<span id="cb41-10"><a href="leaflet-csv.html#cb41-10"></a> })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb41-11"><a href="leaflet-csv.html#cb41-11"></a> controlLayers<span class="op">.</span><span class="fu">addOverlay</span>(customLayer<span class="op">,</span> <span class="st">&#39;Markers from data.csv&#39;</span>)<span class="op">;</span></span></code></pre></div>
</div>
<div id="d-geocode-addresses-in-google-sheet-and-upload-points-from-data.csv" class="section level4 unnumbered" number="">
<h4>D) Geocode addresses in Google Sheet and upload points from data.csv</h4>
<ol start="18" style="list-style-type: decimal">
<li><p>A better way to display multiple points on your map is to prepare and upload a new data.csv file to your GitHub repository. First, right-click to open this Google Sheets template in a new tab: <a href="https://docs.google.com/spreadsheets/d/1z_0hKbw8Ff_fdp-XRoRL4YWe6ue0c0EpITveZ2rz1e8/">Leaflet Maps Simple data points with Geocoder</a></p></li>
<li><p>Since this sheet is view-only, you cannot edit it. Instead, sign in to your Google account in the upper-right corner.</p></li>
<li><p>Go to File &gt; Make a Copy, which will save a duplicate version to your Google Drive, which you can edit.</p></li>
<li><p>In your copy of the Google Sheet, select any cells and press Delete on your keyboard to erase contents. Type new titles and addresses into columns A and B.</p></li>
<li><p>To geocode your new addresses (which means converting them into latitude and longitude coordinates), select all of the contents across 6 columns, from Address (B) to Source (G).</p></li>
<li><p>Go to the Geocoder menu that appears in this special Google Sheet template, and select any service, such as US Census (for US addresses) or Google Maps. The first time you run the geocoder, the script will ask for permission.</p></li>
<li><p>After you have geocoded your addresses, go to File &gt; Download As &gt; Comma-separated values (.CSV format) to save the file to your computer.</p></li>
<li><p>In your computer, right-click the downloaded file to rename it to: data.csv</p></li>
<li><p>In your GitHub repository, click Upload Files, then drag-and-drop your new data.csv file, and Commit to upload it. Go to your live map browser tab and refresh to view changes. <strong>Be patient* during busy periods, when some edits may take up to 1 minute to appear.</strong></p></li>
</ol>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="leaflet.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="leaflet-maps-with-google-sheets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/handsondataviz/book/blob/master/10-leaflet.Rmd",
"text": null
},
"download": ["HandsOnDataViz.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
