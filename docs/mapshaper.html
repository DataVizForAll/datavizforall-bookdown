<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>MapShaper.org to Convert, Edit, and Join Data | Hands-On Data Visualization</title>
  <meta name="description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="MapShaper.org to Convert, Edit, and Join Data | Hands-On Data Visualization" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://handsondataviz.github.io/" />
  
  <meta property="og:description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  <meta name="github-repo" content="handsondataviz/book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="MapShaper.org to Convert, Edit, and Join Data | Hands-On Data Visualization" />
  <meta name="twitter:site" content="@handsondataviz" />
  <meta name="twitter:description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="Ilya Ilyankou" />


<meta name="date" content="2020-06-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="geojsonio.html"/>
<link rel="next" href="convert-kmz.html"/>
<script src="libs/header-attrs-2.2/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-5488840-29"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-5488840-29');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><strong>Hands-On Data Visualization</strong><br>by Jack Dougherty & Ilya Ilyankou</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="authors.html"><a href="authors.html"><i class="fa fa-check"></i>Authors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="what.html"><a href="what.html"><i class="fa fa-check"></i>What is Data Visualization?</a></li>
<li class="chapter" data-level="" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i>Why this book?</a></li>
<li class="chapter" data-level="" data-path="how-to-read.html"><a href="how-to-read.html"><i class="fa fa-check"></i>How to Read</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="choose.html"><a href="choose.html"><i class="fa fa-check"></i><b>1</b> Choose Tools to Tell Your Data Story</a>
<ul>
<li class="chapter" data-level="" data-path="draw.html"><a href="draw.html"><i class="fa fa-check"></i>Draw and Write Your Data Story</a></li>
<li class="chapter" data-level="" data-path="ask.html"><a href="ask.html"><i class="fa fa-check"></i>Ask Questions When Choosing Tools</a></li>
<li class="chapter" data-level="" data-path="rate.html"><a href="rate.html"><i class="fa fa-check"></i>Rate Three Simple Map Tools</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="spreadsheet.html"><a href="spreadsheet.html"><i class="fa fa-check"></i><b>2</b> Improve Your Spreadsheet Skills</a>
<ul>
<li class="chapter" data-level="" data-path="upload.html"><a href="upload.html"><i class="fa fa-check"></i>Upload Files and Convert to Google Sheets</a></li>
<li class="chapter" data-level="" data-path="copy.html"><a href="copy.html"><i class="fa fa-check"></i>Make a Copy with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="share.html"><a href="share.html"><i class="fa fa-check"></i>Share Data with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="csv.html"><a href="csv.html"><i class="fa fa-check"></i>Save Spreadsheets in CSV or ODS</a></li>
<li class="chapter" data-level="" data-path="sort.html"><a href="sort.html"><i class="fa fa-check"></i>Sort and Filter Data</a></li>
<li class="chapter" data-level="" data-path="calculate.html"><a href="calculate.html"><i class="fa fa-check"></i>Calculate with Formulas and Functions</a></li>
<li class="chapter" data-level="" data-path="pivot.html"><a href="pivot.html"><i class="fa fa-check"></i>Group Data with Pivot Tables</a></li>
<li class="chapter" data-level="" data-path="vlookup.html"><a href="vlookup.html"><i class="fa fa-check"></i>Match Columns with VLOOKUP</a></li>
<li class="chapter" data-level="" data-path="forms.html"><a href="forms.html"><i class="fa fa-check"></i>Collect and Share Data with Google Forms</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="find.html"><a href="find.html"><i class="fa fa-check"></i><b>3</b> Find and Know Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="census.html"><a href="census.html"><i class="fa fa-check"></i>US and Census Bureau Open Data</a></li>
<li class="chapter" data-level="" data-path="source.html"><a href="source.html"><i class="fa fa-check"></i>Source Your Data Files</a></li>
<li class="chapter" data-level="" data-path="public.html"><a href="public.html"><i class="fa fa-check"></i>Public or Private Data?</a></li>
<li class="chapter" data-level="" data-path="know.html"><a href="know.html"><i class="fa fa-check"></i>Know Your Data: Is It Good or Bad?</a></li>
<li class="chapter" data-level="" data-path="ct.html"><a href="ct.html"><i class="fa fa-check"></i>Connecticut Open Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>4</b> Clean Up Messy Data</a>
<ul>
<li class="chapter" data-level="" data-path="clean-spreadsheets.html"><a href="clean-spreadsheets.html"><i class="fa fa-check"></i>Clean Data with Spreadsheets</a></li>
<li class="chapter" data-level="" data-path="tabula.html"><a href="tabula.html"><i class="fa fa-check"></i>Extract Tables from PDFs with Tabula</a></li>
<li class="chapter" data-level="" data-path="open-refine.html"><a href="open-refine.html"><i class="fa fa-check"></i>Clean Data with OpenRefine</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chart.html"><a href="chart.html"><i class="fa fa-check"></i><b>5</b> Chart Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="chart-design.html"><a href="chart-design.html"><i class="fa fa-check"></i>Chart Design Principles</a></li>
<li class="chapter" data-level="" data-path="chart-google-sheets.html"><a href="chart-google-sheets.html"><i class="fa fa-check"></i>Google Sheets Charts</a></li>
<li class="chapter" data-level="" data-path="column-bar-google.html"><a href="column-bar-google.html"><i class="fa fa-check"></i>Column and Bar Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="pie-line-area-google.html"><a href="pie-line-area-google.html"><i class="fa fa-check"></i>Pie, Line, and Area Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="scatter-bubble-google.html"><a href="scatter-bubble-google.html"><i class="fa fa-check"></i>Scatter and Bubble Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="tableau-public.html"><a href="tableau-public.html"><i class="fa fa-check"></i>Create Charts with Tableau Public</a></li>
<li class="chapter" data-level="" data-path="scatter-chart-tableau.html"><a href="scatter-chart-tableau.html"><i class="fa fa-check"></i>Create XY Scatter Chart with Tableau Public</a></li>
<li class="chapter" data-level="" data-path="filtered-line-chart-tableau.html"><a href="filtered-line-chart-tableau.html"><i class="fa fa-check"></i>Create Filtered Line Chart with Tableau Public</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="map.html"><a href="map.html"><i class="fa fa-check"></i><b>6</b> Map Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="map-design.html"><a href="map-design.html"><i class="fa fa-check"></i>Map Design Principles</a></li>
<li class="chapter" data-level="" data-path="mymaps.html"><a href="mymaps.html"><i class="fa fa-check"></i>Point Map with Google My Maps</a></li>
<li class="chapter" data-level="" data-path="carto.html"><a href="carto.html"><i class="fa fa-check"></i>Point Map with Carto Builder</a></li>
<li class="chapter" data-level="" data-path="filtered-point-map-socrata.html"><a href="filtered-point-map-socrata.html"><i class="fa fa-check"></i>Filtered Point Map with Socrata Open Data</a></li>
<li class="chapter" data-level="" data-path="social-explorer-maps.html"><a href="social-explorer-maps.html"><i class="fa fa-check"></i>Polygon Maps and Storyboards with Social Explorer</a></li>
<li class="chapter" data-level="" data-path="tableau-polygon.html"><a href="tableau-polygon.html"><i class="fa fa-check"></i>Polygon Map with Tableau Public</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="embed.html"><a href="embed.html"><i class="fa fa-check"></i><b>7</b> Embed On Your Web</a>
<ul>
<li class="chapter" data-level="" data-path="github-pages.html"><a href="github-pages.html"><i class="fa fa-check"></i>Create a Simple Web Page with GitHub Pages</a></li>
<li class="chapter" data-level="" data-path="iframe-google-sheets.html"><a href="iframe-google-sheets.html"><i class="fa fa-check"></i>Copy an iframe code from a Google Sheets interactive chart</a></li>
<li class="chapter" data-level="" data-path="link-to-iframe.html"><a href="link-to-iframe.html"><i class="fa fa-check"></i>Convert a Weblink into an Iframe</a></li>
<li class="chapter" data-level="" data-path="iframe-github.html"><a href="iframe-github.html"><i class="fa fa-check"></i>Embed an Iframe in GitHub Pages</a></li>
<li class="chapter" data-level="" data-path="iframe-wordpress.html"><a href="iframe-wordpress.html"><i class="fa fa-check"></i>Embed an Iframe on WordPress.org</a></li>
<li class="chapter" data-level="" data-path="iframe-tableau.html"><a href="iframe-tableau.html"><i class="fa fa-check"></i>Embed Tableau Public on your Website</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>8</b> Edit and Host Code with GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="fork-leaflet.html"><a href="fork-leaflet.html"><i class="fa fa-check"></i>Fork, Edit, and Host a Simple Leaflet Map Template</a></li>
<li class="chapter" data-level="" data-path="create-repo.html"><a href="create-repo.html"><i class="fa fa-check"></i>Create a New Repo and Upload Files on GitHub</a></li>
<li class="chapter" data-level="" data-path="github-desktop-atom.html"><a href="github-desktop-atom.html"><i class="fa fa-check"></i>GitHub Desktop and Atom Editor to Code Efficiently</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chartjs.html"><a href="chartjs.html"><i class="fa fa-check"></i><b>9</b> Chart.js Code Templates</a>
<ul>
<li class="chapter" data-level="" data-path="chartjs-bar-csv.html"><a href="chartjs-bar-csv.html"><i class="fa fa-check"></i>Bar Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-line-csv.html"><a href="chartjs-line-csv.html"><i class="fa fa-check"></i>Line Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-scatter-csv.html"><a href="chartjs-scatter-csv.html"><i class="fa fa-check"></i>Scatter Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-bubble-csv.html"><a href="chartjs-bubble-csv.html"><i class="fa fa-check"></i>Bubble Chart.js with CSV Data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>10</b> Leaflet Map Templates</a>
<ul>
<li class="chapter" data-level="" data-path="leaflet-csv.html"><a href="leaflet-csv.html"><i class="fa fa-check"></i>Fork and Edit Leaflet Map with CSV Data</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-with-google-sheets.html"><a href="leaflet-maps-with-google-sheets.html"><i class="fa fa-check"></i>Leaflet Maps with Google Sheets template</a></li>
<li class="chapter" data-level="" data-path="leaflet-storymaps-with-google-sheets.html"><a href="leaflet-storymaps-with-google-sheets.html"><i class="fa fa-check"></i>Leaflet Storymaps with Google Sheets and Scrolling Narrative</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-with-socrata.html"><a href="leaflet-maps-with-socrata.html"><i class="fa fa-check"></i>Leaflet Maps with Socrata API Open Data</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-open-apis.html"><a href="leaflet-maps-open-apis.html"><i class="fa fa-check"></i>Pull Open Data into Leaflet Map with APIs</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-click.html"><a href="leaflet-polygon-map-click.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Clickable Info Window template</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-hover.html"><a href="leaflet-polygon-map-hover.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Hover Info Window template</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-multi-year-tabs.html"><a href="leaflet-polygon-map-multi-year-tabs.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Multi-Year Tabs template</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>11</b> Transform Your Map Data</a>
<ul>
<li class="chapter" data-level="" data-path="geocode.html"><a href="geocode.html"><i class="fa fa-check"></i>Geocode Locations into Coordinates with US Census or Google</a></li>
<li class="chapter" data-level="" data-path="pivot-point-to-polygon.html"><a href="pivot-point-to-polygon.html"><i class="fa fa-check"></i>Pivot Address-Level Point Data into Polygon Data</a></li>
<li class="chapter" data-level="" data-path="normalize.html"><a href="normalize.html"><i class="fa fa-check"></i>Normalize Data to Create Meaningful Polygon Maps</a></li>
<li class="chapter" data-level="" data-path="convert-geojson.html"><a href="convert-geojson.html"><i class="fa fa-check"></i>Convert to GeoJSON format</a></li>
<li class="chapter" data-level="" data-path="geojsonio.html"><a href="geojsonio.html"><i class="fa fa-check"></i>GeoJson.io to Convert, Edit, and Create Map Data</a></li>
<li class="chapter" data-level="" data-path="mapshaper.html"><a href="mapshaper.html"><i class="fa fa-check"></i>MapShaper.org to Convert, Edit, and Join Data</a></li>
<li class="chapter" data-level="" data-path="convert-kmz.html"><a href="convert-kmz.html"><i class="fa fa-check"></i>Convert a Compressed KMZ file to KML format</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="detect.html"><a href="detect.html"><i class="fa fa-check"></i><b>12</b> Detect Bias in Data Stories</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-lie-with-charts.html"><a href="how-to-lie-with-charts.html"><i class="fa fa-check"></i>How to Lie with Charts</a></li>
<li class="chapter" data-level="" data-path="how-to-lie-with-maps.html"><a href="how-to-lie-with-maps.html"><i class="fa fa-check"></i>How to Lie with Maps</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="story.html"><a href="story.html"><i class="fa fa-check"></i><b>13</b> Tell Your Data Story</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="fix-code.html"><a href="fix-code.html"><i class="fa fa-check"></i><b>A</b> Fix Common Code Errors</a></li>
<li class="chapter" data-level="B" data-path="peer.html"><a href="peer.html"><i class="fa fa-check"></i><b>B</b> Peer Review Samples</a>
<ul>
<li class="chapter" data-level="" data-path="peer-2-chart-1.html"><a href="peer-2-chart-1.html"><i class="fa fa-check"></i>Section 2 Chart 1 Peer Review Sample</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-1-notes.html"><a href="peer-2-chart-1-notes.html"><i class="fa fa-check"></i>Section 2 Chart 1 Peer Review Sample with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-2.html"><a href="peer-2-chart-2.html"><i class="fa fa-check"></i>Section 2 Chart 2 Peer Review Sample</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-2-notes.html"><a href="peer-2-chart-2-notes.html"><i class="fa fa-check"></i>Section 2 Chart 2 Peer Review Sample with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-1.html"><a href="peer-3-sample-1.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 1</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-1-notes.html"><a href="peer-3-sample-1-notes.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 1 with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-2.html"><a href="peer-3-sample-2.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 2</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-2-notes.html"><a href="peer-3-sample-2-notes.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 2 with Notes</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>C</b> Publishing with Bookdown</a>
<ul>
<li><a href="style-guide.html#style-guide">Style Guide for <em>Hands-On Data Visualization</em></a></li>
<li class="chapter" data-level="" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i>Images</a></li>
<li class="chapter" data-level="" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i>Notes and Bibliography</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li style="padding: 10px 15px; font-weight: bold;">Open access book-in-progress</li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown + RStudio</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hands-On Data Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mapshaper" class="section level2 unnumbered" number="">
<h2>MapShaper.org to Convert, Edit, and Join Data</h2>
<p>TODO:</p>
<ul>
<li>rewrite into tool review/tutorial format</li>
<li>put conversion at top and clarify import-export formats</li>
<li>recommended browsers: Firefox or Chrome</li>
<li>Mac users: go to Finder &gt; Preferences &gt; Advanced &gt; turn on Show file extensions</li>
</ul>
<p>MapShaper (<a href="http://MapShaper.org" class="uri">http://MapShaper.org</a>) is another versatile open-source mapping tool, developed and maintained by <a href="https://github.com/mbloch/mapshaper">Matthew Bloch on GitHub</a>. Using the web interface, users can:</p>
<ul>
<li>Import and export map layers in multiple formats: Shapefile, GeoJSON, CSV, and more</li>
<li>Simplify (or smooth out) geographic details to reduce map file size</li>
<li>Edit geography with powerful commands (dissolve, clip, join files, etc.)</li>
</ul>
<p>This free and easy-to-learn MapShaper.org web tool has replaced <em>many</em> of my map preparation tasks that previously required expensive and hard-to-learn ArcGIS software, or its free but still-challenging-to-learn cousin, QGIS. Even advanced GIS users may discover MapShaper.org to be a quick alternative for some common time-consuming tasks.</p>
<p>The examples below focus on polygon boundary data to illustrate common map editing tasks. But MapShaper.org also works with other data layers, such as tables, points, and lines.</p>
<div id="import-and-convert-map-boundary-files" class="section level4 unnumbered" number="">
<h4>Import and convert map boundary files</h4>
<p>Try it! Right-click the link and Save to download this sample file to your computer: <a href="data/ct-towns.geojson">ct-towns in GeoJSON format</a>. If you accidentally open a page of GeoJSON code in your browser, select File &gt; Save Page As to download to your computer.</p>
<ol style="list-style-type: decimal">
<li>Drag-and-drop any map layer into the <a href="http://MapShaper.org" class="uri">http://MapShaper.org</a> browser window.</li>
</ol>
<ul>
<li>Import GeoJSON (.geojson or .json), TopoJSON, CSV, or Shapefile formats</li>
<li>For Shapefiles, import the .shp (features), .dbf (attribute data), and .prj (projection) files. Reminder: the WGS84 projection is most portable across multiple platforms.</li>
<li>KML/KMZ files are not compatible. To convert these into a format that Mapshaper can import, see the <a href="convert-kmz.html">Convert KMZ to KML</a> and <a href="geojsonio.html">Geojson.io</a> chapters in this book.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Click the Export button and select your preferred format:</li>
</ol>
<ul>
<li>Shapefile (best for ArcGIS/QGIS software)</li>
<li>GeoJSON (best for Leaflet and GitHub tools in this book)</li>
<li>TopoJSON (similar to GeoJSON, with topographical data)</li>
<li>SVG (Scalable Vector Graphics, for print or online)</li>
<li>CSV (Comma Separated Values, generic spreadsheet format)</li>
</ul>
<div class="figure"><span id="fig:mapshaper-convert"></span>
<iframe src="images/11-transform/mapshaper-convert-640.gif" width="672" height="400px"></iframe>
<p class="caption">
Figure 11.4: Screencast: Mapshaper convert
</p>
</div>
</div>
<div id="edit-data-for-specific-polygons" class="section level4 unnumbered" number="">
<h4>Edit data for specific polygons</h4>
<p>To edit data for any polygon in MapShaper.org:</p>
<ul>
<li><p>Click the “i” information button</p></li>
<li><p>Select the polygon</p></li>
<li><p>Click inside its pop-up info window to directly edit the data</p>
<p><img src="images/11-transform/mapshaper-edit-info.png" /></p></li>
</ul>
</div>
<div id="simplify-map-boundaries-to-reduce-file-size" class="section level4 unnumbered" number="">
<h4>Simplify map boundaries to reduce file size</h4>
<p>If your data visualization project displays a zoomed-out state or national or world map, small geographic details that are invisible at these zoom levels may not be necessary. Consider using the Simplify command to reduce the file size, which may help your interactive web map to load faster for web visitors. The example below began with a detailed map of Connecticut town boundaries (1:100,000 scale) at 2MB, which MapShaper simplified – without visibly sacrificing details at the statewide zoom level – to a reduced size of about 200KB.</p>
<ol style="list-style-type: decimal">
<li><p>Try it! Download and upload the sample GeoJSON file as described in the Import section above.</p></li>
<li><p>Click the Simplify button to review options, and in most cases, accept the default settings. Click Next.</p></li>
<li><p>Slide the Simplify button from 100 percent down to an appropriate number for your map zoom level. If important geographic details disappear, you may have gone too far.</p></li>
<li><p>Look in the upper-left corner and click on recommended Repairs to your map file.</p></li>
<li><p>Complete the process by clicking Simplify once again. Export your file in the preferred format for your project.</p></li>
</ol>
<p><img src="images/11-transform/mapshaper-simplify.png" /></p>
</div>
<div id="dissolve-internal-polygons-to-create-an-outline-map" class="section level4 unnumbered" number="">
<h4>Dissolve internal polygons to create an outline map</h4>
<p>MapShaper.org also includes a Console button to type in commands for common map editing tasks. Imagine that you begin with a boundary map that includes internal polygons, but your goal is to remove all of them to create an outline map.</p>
<p>Click the Console button, which opens a window to type in commands. Enter the command below, then press return. Close the Console window and Export your outline map.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb53-1"><a href="mapshaper.html#cb53-1"></a>-dissolve</span></code></pre></div>
<div class="figure"><span id="fig:mapshaper-dissolve"></span>
<iframe src="images/11-transform/mapshaper-dissolve-simple-640.gif" width="672" height="400px">
</iframe>
<p class="caption">
Figure 11.5: Screencast: Mapshaper dissolve
</p>
</div>
</div>
<div id="clip-a-map-to-match-an-outline-layer" class="section level4 unnumbered" number="">
<h4>Clip a map to match an outline layer</h4>
<p>Imagine that you start with a polygon map of all towns in Connecticut, and an outline map of Hartford County, a larger region that includes some (but not all) of those smaller towns. Your goal is to create a polygon map of all towns inside Hartford County. In other words, we will “clip” the statewide town map using the county outline map.</p>
<p>Try it! Right-click the link and Save to download both sample files to your computer:</p>
<ul>
<li><a href="data/ct-towns.geojson">ct-towns in GeoJSON format</a></li>
<li><a href="data/hartfordcounty-outline.geojson">hartfordcounty-outline in GeoJSON format</a></li>
<li>If you accidentally open a page of GeoJSON code in your browser, select File &gt; Save Page As to download to your computer.</li>
</ul>
<p>Refresh the browser to start a new session in <a href="http://MapShaper.org" class="uri">http://MapShaper.org</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Drag-and-drop the ct-towns.geojson file to import to MapShaper.</p></li>
<li><p>Drag-and-drop the hartfordcounty-outline.geojson map to MapShaper, and click Import to add this second layer.</p></li>
<li><p>In the drop-down menu, select the first map (ct-towns) to display it as the active layer.</p></li>
<li><p>Click the Console button, type or paste in the command below, and press enter.</p></li>
</ol>
<div class="sourceCode" id="cb54"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb54-1"><a href="mapshaper.html#cb54-1"></a>-clip hartfordcounty-outline.geojson</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>The command above instructs MapShaper to clip the active map layer (ct-towns) using the second layer (hartfordcounty-outline).</p></li>
<li><p>Sometimes the boundaries of the clip layer do not precisely match up with your active layer, due to differences between their sources. If necessary, add the <code>cleanup</code> command to remove any null features or small “slivers” that remain after the clip.</p></li>
</ol>
<div class="sourceCode" id="cb55"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb55-1"><a href="mapshaper.html#cb55-1"></a><span class="ss">- </span>clip hartfordcounty-outline.geojson cleanup</span>
<span id="cb55-2"><a href="mapshaper.html#cb55-2"></a>Removed 3 null features and 5 slivers</span></code></pre></div>
<p><strong>TO DO</strong> fix animation to match new file names</p>
<div class="figure"><span id="fig:mapshaper-clip"></span>
<iframe src="images/11-transform/mapshaper-clip-640.gif" width="672" height="400px">
</iframe>
<p class="caption">
Figure 11.6: Screencast: Mapshaper clip
</p>
</div>
</div>
<div id="remove-unwanted-data-columns" class="section level4 unnumbered" number="">
<h4>Remove unwanted data columns</h4>
<p>Sometimes your polygon map contains several columns of unwanted data. To quickly remove them, enter the “-filter-fields” Console command to keep only the columns you list. The example below deletes all columns <em>except</em> “town”:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb56-1"><a href="mapshaper.html#cb56-1"></a>-filter-fields town</span></code></pre></div>
</div>
<div id="join-spreadsheet-data-with-polygon-map" class="section level4 unnumbered" number="">
<h4>Join spreadsheet data with polygon map</h4>
<p>** TO DO **
- fix images and animations to map the new file names and column headers</p>
<p>A common mapping task is to join (or merge) new data columns into a polygon boundary map, and MapShaper.org makes this very easy. Imagine that you have two files:</p>
<ul>
<li>Connecticut town boundary map</li>
<li>a spreadsheet of town population data</li>
</ul>
<p>Your goal is to unite these files, so that you can later display them in a thematic polygon map. Since these two files share a common column of data – the town names – you can join them together into one merged file.</p>
<p><img src="images/11-transform/mapshaper-join-table-concept.png" /></p>
<p>Try it! Right-click each link and Save to download two sample files to your computer:</p>
<ul>
<li><a href="data/ct-towns.geojson">ct-towns in GeoJSON format</a></li>
<li><a href="data/ct-towns-popdensity.csv">ct-towns-popdensity in CSV format</a></li>
</ul>
<p>If you accidentally open a page of GeoJSON code in your browser, select File &gt; Save Page As to download to your computer.</p>
<p>Refresh the browser to start a new session in <a href="http://MapShaper.org" class="uri">http://MapShaper.org</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Drag-and-drop the ct-towns.geojson boundary file into MapShaper. Select the “i” info button and click on any polygon to confirm that the column header is “name”.</p></li>
<li><p>Open the ct-towns-popdensity.csv file with any spreadsheet tool and confirm that first column header also is “name”. Close this file.</p></li>
<li><p>Drag-and-drop the ct-towns-popdensity.csv file into MapShaper.org, and select the Import button to add it as a second layer. This table layer will appear as rectangular cells, because it does not contain geographic information.</p></li>
<li><p>Click the drop-down menu and select the map to display it as the active layer.</p></li>
</ol>
<p><img src="images/11-transform/mapshaper-join-select-map-layer.png" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Click the Console button, type this command, and press return:</li>
</ol>
<div class="sourceCode" id="cb57"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb57-1"><a href="mapshaper.html#cb57-1"></a>-join ct-towns-popdensity.csv keys=name,name</span></code></pre></div>
<p>Type this precisely, with <strong>no spaces</strong> between the words in your keys. This command instructs MapShaper to join the active map layer to the CSV table layer, based on their shared column of data, labeled as “name” in both files. In this example, 169 rows are merged together.</p>
<p><img src="images/11-transform/mapshaper-join-console.png" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Click the Console button to close the command window. Select the “i” info button and click any polygon to confirm that it now contains the new table data. Export the file in your preferred format.</li>
</ol>
<p><img src="images/11-transform/mapshaper-join-confirm.png" /></p>
</div>
<div id="more-about-joins" class="section level4 unnumbered" number="">
<h4>More about joins</h4>
<ol style="list-style-type: decimal">
<li><p>If you don’t have a CSV table that matches the columns in your boundary map data, you can easily create one. Upload the boundary map to MapShaper.org, and export in CSV format, and open with any spreadsheet tool. To match data columns in the CSV spreadsheet, use the <a href="vlookup.html">VLOOKUP method in this book</a>.</p></li>
<li><p>The simple join example above uses identical keys (name,name) because the two columns headers are the same. But if you need to join data where the headers are not the same, enter the first key (the polygon map) and the second key (the CSV table).</p></li>
<li><p>Mapshaper also helps you to keep track of data that are not properly joined or matched. For example, if the polygon map contains 169 rows (one for each town in Connecticut), but the CSV table contains only 168 rows of data, Mapshaper will join all of those with matching keys, and then display this message:</p></li>
</ol>
<div class="sourceCode" id="cb58"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb58-1"><a href="mapshaper.html#cb58-1"></a>Joined 168 data records</span>
<span id="cb58-2"><a href="mapshaper.html#cb58-2"></a>1/169 target records received no data</span></code></pre></div>
<p>To capture data records that are not properly joined, add these terms at the end of your join command: <code>unjoined unmatched -info</code>. The first term saves a copy of each unmatched record from the target table to a new layer named “unmatched,” and the second term saves a copy of each unjoined record from the source table into another layer named “unjoined.” In the example below, see the console command and results, and a screenshot of the two new layers.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb59-1"><a href="mapshaper.html#cb59-1"></a>$ -join towns-data.csv keys=name,name unmatched unjoined -info</span>
<span id="cb59-2"><a href="mapshaper.html#cb59-2"></a>Joined 27 data records</span>
<span id="cb59-3"><a href="mapshaper.html#cb59-3"></a>2/29 target records received no data</span>
<span id="cb59-4"><a href="mapshaper.html#cb59-4"></a>2/29 source records could not be joined</span>
<span id="cb59-5"><a href="mapshaper.html#cb59-5"></a>Layer 1 ...</span></code></pre></div>
<p><img src="images/11-transform/mapshaper-unmatched-unjoined.png" /></p>
</div>
<div id="merge-selected-polygons-with-join-and-dissolve-commands" class="section level4 unnumbered" number="">
<h4>Merge selected polygons with join and dissolve commands</h4>
<p>** TO DO ** fix screenshots to match new data files and column headers</p>
<p>Another common task is to merge selected polygons in a boundary map, which you can do in MapShaper with the join and dissolve commands you learned above. Imagine that you wish to create regional “cluster” boundaries from smaller polygon areas. For example, the <a href="http://www.ct.gov/dph/cwp/view.asp?a=3123&amp;q=397740">Connecticut Department of Public Health</a> has grouped individual towns, such as Bloomfield and West Hartford, into regional health districts. Your task is to begin with a statewide polygon map of all town boundaries, and to create a new polygon map that displays these regional clusters.</p>
<p>Try it! Right-click the link and Save to download the sample files to your computer: <a href="data/ct-towns.geojson">ct-towns in GeoJSON format</a>. If you accidentally open a page of GeoJSON code in your browser, select File &gt; Save Page As to download to your computer.</p>
<p>Refresh the browser to start a new session in <a href="http://MapShaper.org" class="uri">http://MapShaper.org</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Import the ct-towns.geojson map file into <a href="http://MapShaper.org" class="uri">http://MapShaper.org</a>.</p></li>
<li><p>Export in CSV format. This steps creates a spreadsheet that lists all of the polygon town names, without geographic details.</p></li>
</ol>
<p><img src="images/11-transform/towns-export-csv.png" /></p>
<ol start="3" style="list-style-type: decimal">
<li><p>Open the CSV file with any spreadsheet tool. Copy the contents of the “name” column, paste it into a second column, and change the header of this second column to “merged”.</p></li>
<li><p>In the new “merged” column, create new listings for towns you wish to merge together. In this example, Bloomfield and West Hartford are merged into Bloomfield-West Hartford. Leave other towns unchanged.</p></li>
</ol>
<p><img src="images/11-transform/ct-towns-merged-csv.png" /></p>
<ol start="5" style="list-style-type: decimal">
<li><p>Save this spreadsheet in CSV format with a new file name, such as: ct-towns-merged.csv.</p></li>
<li><p>Drag this new ct-towns-merged.csv file into MapShaper, and click Import.</p></li>
<li><p>Use the drop-down menu to manage multiple layers in MapShaper. Since the CSV file has no geography, it appears as a series of rectangular cells. Instead, select the ct-towns.geojson map to display it as the active layer.</p></li>
</ol>
<p><img src="images/11-transform/mapshaper-two-layers.png" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Click on the Console button, type in both of the commands below, and press Return at the end of each line:</li>
</ol>
<div class="sourceCode" id="cb60"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb60-1"><a href="mapshaper.html#cb60-1"></a>-join CT-towns-merged.csv keys=name,name</span>
<span id="cb60-2"><a href="mapshaper.html#cb60-2"></a>-dissolve merged</span></code></pre></div>
<p>How to understand the commands above:</p>
<ul>
<li><p>The first line “joins” the active layer (the polygon map) to the CSV spreadsheet, with “keys” to match their shared data columns, which are both labeled as “name”.</p></li>
<li><p>The second line dissolves the polygons of towns listed in the “merged” column of the CSV file. In this simple example, only Bloomfield and West Hartford are dissolved into a combined “Bloomfield-West Hartford” regional health district, and all of the other polygons remain the same.</p>
<p><img src="images/11-transform/mapshaper-towns-merged.png" /></p></li>
</ul>
<p>Click the Console button to close its window. Select the “i” information button to inspect your merged polygons. Export the map in your preferred format.</p>
</div>
<div id="learn-more-advanced-mapshaper-methods" class="section level4 unnumbered" number="">
<h4>Learn more advanced MapShaper methods</h4>
<ul>
<li>See the MapShaper GitHub project wiki (<a href="https://github.com/mbloch/mapshaper/wiki/" class="uri">https://github.com/mbloch/mapshaper/wiki/</a>) for more command references and tips about map simplification</li>
</ul>
<p><strong>TO DO</strong>: illustrate concept of a point-to-polygon spatial join. When using the join command, “If the keys= option is missing, Mapshaper will perform a point-to-polygon or polygon-to-point spatial join.”</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="geojsonio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="convert-kmz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/handsondataviz/book/blob/master/11-transform.Rmd",
"text": null
},
"download": ["HandsOnDataViz.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
