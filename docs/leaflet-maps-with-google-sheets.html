<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Leaflet Maps with Google Sheets template | Hands-On Data Visualization</title>
  <meta name="description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Leaflet Maps with Google Sheets template | Hands-On Data Visualization" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://handsondataviz.github.io/" />
  
  <meta property="og:description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  <meta name="github-repo" content="handsondataviz/book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Leaflet Maps with Google Sheets template | Hands-On Data Visualization" />
  <meta name="twitter:site" content="@handsondataviz" />
  <meta name="twitter:description" content="Tell your story and show it with data, using free and easy-to-learn tools on the web. This introductory book teaches you how to design interactive charts and customized maps for your website, beginning with easy drag-and-drop tools, such as Google Sheets and Tableau Public, then gradually working up to editing open-source Chart.js and Leaflet code templates on GitHub. Follow along with the step-by-step tutorials, real-world examples, and online resources. This book is ideal for students, non-profit organizations, small business owners, local governments, journalists, academics, or anyone who wants to tell their story and show the data. No coding experience is required." />
  

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="Ilya Ilyankou" />


<meta name="date" content="2020-06-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="leaflet-csv.html"/>
<link rel="next" href="leaflet-storymaps-with-google-sheets.html"/>
<script src="libs/header-attrs-2.2/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-5488840-29"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-5488840-29');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><strong>Hands-On Data Visualization</strong><br>by Jack Dougherty & Ilya Ilyankou</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="authors.html"><a href="authors.html"><i class="fa fa-check"></i>Authors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="what.html"><a href="what.html"><i class="fa fa-check"></i>What is Data Visualization?</a></li>
<li class="chapter" data-level="" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i>Why this book?</a></li>
<li class="chapter" data-level="" data-path="how-to-read.html"><a href="how-to-read.html"><i class="fa fa-check"></i>How to Read</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="choose.html"><a href="choose.html"><i class="fa fa-check"></i><b>1</b> Choose Tools to Tell Your Data Story</a>
<ul>
<li class="chapter" data-level="" data-path="draw.html"><a href="draw.html"><i class="fa fa-check"></i>Draw and Write Your Data Story</a></li>
<li class="chapter" data-level="" data-path="ask.html"><a href="ask.html"><i class="fa fa-check"></i>Ask Questions When Choosing Tools</a></li>
<li class="chapter" data-level="" data-path="rate.html"><a href="rate.html"><i class="fa fa-check"></i>Rate Three Simple Map Tools</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="spreadsheet.html"><a href="spreadsheet.html"><i class="fa fa-check"></i><b>2</b> Improve Your Spreadsheet Skills</a>
<ul>
<li class="chapter" data-level="" data-path="upload.html"><a href="upload.html"><i class="fa fa-check"></i>Upload Files and Convert to Google Sheets</a></li>
<li class="chapter" data-level="" data-path="copy.html"><a href="copy.html"><i class="fa fa-check"></i>Make a Copy with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="share.html"><a href="share.html"><i class="fa fa-check"></i>Share Data with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="csv.html"><a href="csv.html"><i class="fa fa-check"></i>Save Spreadsheets in CSV or ODS</a></li>
<li class="chapter" data-level="" data-path="sort.html"><a href="sort.html"><i class="fa fa-check"></i>Sort and Filter Data</a></li>
<li class="chapter" data-level="" data-path="calculate.html"><a href="calculate.html"><i class="fa fa-check"></i>Calculate with Formulas and Functions</a></li>
<li class="chapter" data-level="" data-path="pivot.html"><a href="pivot.html"><i class="fa fa-check"></i>Group Data with Pivot Tables</a></li>
<li class="chapter" data-level="" data-path="vlookup.html"><a href="vlookup.html"><i class="fa fa-check"></i>Match Columns with VLOOKUP</a></li>
<li class="chapter" data-level="" data-path="forms.html"><a href="forms.html"><i class="fa fa-check"></i>Collect and Share Data with Google Forms</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="find.html"><a href="find.html"><i class="fa fa-check"></i><b>3</b> Find and Know Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="census.html"><a href="census.html"><i class="fa fa-check"></i>US and Census Bureau Open Data</a></li>
<li class="chapter" data-level="" data-path="source.html"><a href="source.html"><i class="fa fa-check"></i>Source Your Data Files</a></li>
<li class="chapter" data-level="" data-path="public.html"><a href="public.html"><i class="fa fa-check"></i>Public or Private Data?</a></li>
<li class="chapter" data-level="" data-path="know.html"><a href="know.html"><i class="fa fa-check"></i>Know Your Data: Is It Good or Bad?</a></li>
<li class="chapter" data-level="" data-path="ct.html"><a href="ct.html"><i class="fa fa-check"></i>Connecticut Open Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>4</b> Clean Up Messy Data</a>
<ul>
<li class="chapter" data-level="" data-path="clean-spreadsheets.html"><a href="clean-spreadsheets.html"><i class="fa fa-check"></i>Clean Data with Spreadsheets</a></li>
<li class="chapter" data-level="" data-path="tabula.html"><a href="tabula.html"><i class="fa fa-check"></i>Extract Tables from PDFs with Tabula</a></li>
<li class="chapter" data-level="" data-path="open-refine.html"><a href="open-refine.html"><i class="fa fa-check"></i>Clean Data with OpenRefine</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chart.html"><a href="chart.html"><i class="fa fa-check"></i><b>5</b> Chart Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="chart-design.html"><a href="chart-design.html"><i class="fa fa-check"></i>Chart Design Principles</a></li>
<li class="chapter" data-level="" data-path="chart-google-sheets.html"><a href="chart-google-sheets.html"><i class="fa fa-check"></i>Google Sheets Charts</a></li>
<li class="chapter" data-level="" data-path="column-bar-google.html"><a href="column-bar-google.html"><i class="fa fa-check"></i>Column and Bar Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="pie-line-area-google.html"><a href="pie-line-area-google.html"><i class="fa fa-check"></i>Pie, Line, and Area Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="scatter-bubble-google.html"><a href="scatter-bubble-google.html"><i class="fa fa-check"></i>Scatter and Bubble Charts with Google Sheets</a></li>
<li class="chapter" data-level="" data-path="tableau-public.html"><a href="tableau-public.html"><i class="fa fa-check"></i>Create Charts with Tableau Public</a></li>
<li class="chapter" data-level="" data-path="scatter-chart-tableau.html"><a href="scatter-chart-tableau.html"><i class="fa fa-check"></i>Create XY Scatter Chart with Tableau Public</a></li>
<li class="chapter" data-level="" data-path="filtered-line-chart-tableau.html"><a href="filtered-line-chart-tableau.html"><i class="fa fa-check"></i>Create Filtered Line Chart with Tableau Public</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="map.html"><a href="map.html"><i class="fa fa-check"></i><b>6</b> Map Your Data</a>
<ul>
<li class="chapter" data-level="" data-path="map-design.html"><a href="map-design.html"><i class="fa fa-check"></i>Map Design Principles</a></li>
<li class="chapter" data-level="" data-path="mymaps.html"><a href="mymaps.html"><i class="fa fa-check"></i>Point Map with Google My Maps</a></li>
<li class="chapter" data-level="" data-path="carto.html"><a href="carto.html"><i class="fa fa-check"></i>Point Map with Carto Builder</a></li>
<li class="chapter" data-level="" data-path="filtered-point-map-socrata.html"><a href="filtered-point-map-socrata.html"><i class="fa fa-check"></i>Filtered Point Map with Socrata Open Data</a></li>
<li class="chapter" data-level="" data-path="social-explorer-maps.html"><a href="social-explorer-maps.html"><i class="fa fa-check"></i>Polygon Maps and Storyboards with Social Explorer</a></li>
<li class="chapter" data-level="" data-path="tableau-polygon.html"><a href="tableau-polygon.html"><i class="fa fa-check"></i>Polygon Map with Tableau Public</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="embed.html"><a href="embed.html"><i class="fa fa-check"></i><b>7</b> Embed On Your Web</a>
<ul>
<li class="chapter" data-level="" data-path="github-pages.html"><a href="github-pages.html"><i class="fa fa-check"></i>Create a Simple Web Page with GitHub Pages</a></li>
<li class="chapter" data-level="" data-path="iframe-google-sheets.html"><a href="iframe-google-sheets.html"><i class="fa fa-check"></i>Copy an iframe code from a Google Sheets interactive chart</a></li>
<li class="chapter" data-level="" data-path="link-to-iframe.html"><a href="link-to-iframe.html"><i class="fa fa-check"></i>Convert a Weblink into an Iframe</a></li>
<li class="chapter" data-level="" data-path="iframe-github.html"><a href="iframe-github.html"><i class="fa fa-check"></i>Embed an Iframe in GitHub Pages</a></li>
<li class="chapter" data-level="" data-path="iframe-wordpress.html"><a href="iframe-wordpress.html"><i class="fa fa-check"></i>Embed an Iframe on WordPress.org</a></li>
<li class="chapter" data-level="" data-path="iframe-tableau.html"><a href="iframe-tableau.html"><i class="fa fa-check"></i>Embed Tableau Public on your Website</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>8</b> Edit and Host Code with GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="fork-leaflet.html"><a href="fork-leaflet.html"><i class="fa fa-check"></i>Fork, Edit, and Host a Simple Leaflet Map Template</a></li>
<li class="chapter" data-level="" data-path="create-repo.html"><a href="create-repo.html"><i class="fa fa-check"></i>Create a New Repo and Upload Files on GitHub</a></li>
<li class="chapter" data-level="" data-path="github-desktop-atom.html"><a href="github-desktop-atom.html"><i class="fa fa-check"></i>GitHub Desktop and Atom Editor to Code Efficiently</a></li>
<li class="chapter" data-level="" data-path="fix-code.html"><a href="fix-code.html"><i class="fa fa-check"></i>Fix Common GitHub and Code Errors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chartjs.html"><a href="chartjs.html"><i class="fa fa-check"></i><b>9</b> Chart.js Code Templates</a>
<ul>
<li class="chapter" data-level="" data-path="chartjs-bar-csv.html"><a href="chartjs-bar-csv.html"><i class="fa fa-check"></i>Bar Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-line-csv.html"><a href="chartjs-line-csv.html"><i class="fa fa-check"></i>Line Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-scatter-csv.html"><a href="chartjs-scatter-csv.html"><i class="fa fa-check"></i>Scatter Chart.js with CSV Data</a></li>
<li class="chapter" data-level="" data-path="chartjs-bubble-csv.html"><a href="chartjs-bubble-csv.html"><i class="fa fa-check"></i>Bubble Chart.js with CSV Data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>10</b> Leaflet Map Templates</a>
<ul>
<li class="chapter" data-level="" data-path="leaflet-csv.html"><a href="leaflet-csv.html"><i class="fa fa-check"></i>Fork and Edit Leaflet Map with CSV Data</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-with-google-sheets.html"><a href="leaflet-maps-with-google-sheets.html"><i class="fa fa-check"></i>Leaflet Maps with Google Sheets template</a></li>
<li class="chapter" data-level="" data-path="leaflet-storymaps-with-google-sheets.html"><a href="leaflet-storymaps-with-google-sheets.html"><i class="fa fa-check"></i>Leaflet Storymaps with Google Sheets and Scrolling Narrative</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-with-socrata.html"><a href="leaflet-maps-with-socrata.html"><i class="fa fa-check"></i>Leaflet Maps with Socrata API Open Data</a></li>
<li class="chapter" data-level="" data-path="leaflet-maps-open-apis.html"><a href="leaflet-maps-open-apis.html"><i class="fa fa-check"></i>Pull Open Data into Leaflet Map with APIs</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-click.html"><a href="leaflet-polygon-map-click.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Clickable Info Window template</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-hover.html"><a href="leaflet-polygon-map-hover.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Hover Info Window template</a></li>
<li class="chapter" data-level="" data-path="leaflet-polygon-map-multi-year-tabs.html"><a href="leaflet-polygon-map-multi-year-tabs.html"><i class="fa fa-check"></i>Leaflet Thematic Polygon Map with Multi-Year Tabs template</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>11</b> Transform Your Map Data</a>
<ul>
<li class="chapter" data-level="" data-path="geocode.html"><a href="geocode.html"><i class="fa fa-check"></i>Geocode Locations into Coordinates with US Census or Google</a></li>
<li class="chapter" data-level="" data-path="pivot-point-to-polygon.html"><a href="pivot-point-to-polygon.html"><i class="fa fa-check"></i>Pivot Address-Level Point Data into Polygon Data</a></li>
<li class="chapter" data-level="" data-path="normalize.html"><a href="normalize.html"><i class="fa fa-check"></i>Normalize Data to Create Meaningful Polygon Maps</a></li>
<li class="chapter" data-level="" data-path="convert-geojson.html"><a href="convert-geojson.html"><i class="fa fa-check"></i>Convert to GeoJSON format</a></li>
<li class="chapter" data-level="" data-path="geojsonio.html"><a href="geojsonio.html"><i class="fa fa-check"></i>GeoJson.io to Convert, Edit, and Create Map Data</a></li>
<li class="chapter" data-level="" data-path="mapshaper.html"><a href="mapshaper.html"><i class="fa fa-check"></i>MapShaper.org to Convert, Edit, and Join Data</a></li>
<li class="chapter" data-level="" data-path="convert-kmz.html"><a href="convert-kmz.html"><i class="fa fa-check"></i>Convert a Compressed KMZ file to KML format</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="detect.html"><a href="detect.html"><i class="fa fa-check"></i><b>12</b> Detect Bias in Data Stories</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-lie-with-charts.html"><a href="how-to-lie-with-charts.html"><i class="fa fa-check"></i>How to Lie with Charts</a></li>
<li class="chapter" data-level="" data-path="how-to-lie-with-maps.html"><a href="how-to-lie-with-maps.html"><i class="fa fa-check"></i>How to Lie with Maps</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="story.html"><a href="story.html"><i class="fa fa-check"></i><b>13</b> Tell Your Data Story</a></li>
<li class="chapter" data-level="14" data-path="peer.html"><a href="peer.html"><i class="fa fa-check"></i><b>14</b> Peer Review Samples</a>
<ul>
<li class="chapter" data-level="" data-path="peer-2-chart-1.html"><a href="peer-2-chart-1.html"><i class="fa fa-check"></i>Section 2 Chart 1 Peer Review Sample</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-1-notes.html"><a href="peer-2-chart-1-notes.html"><i class="fa fa-check"></i>Section 2 Chart 1 Peer Review Sample with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-2.html"><a href="peer-2-chart-2.html"><i class="fa fa-check"></i>Section 2 Chart 2 Peer Review Sample</a></li>
<li class="chapter" data-level="" data-path="peer-2-chart-2-notes.html"><a href="peer-2-chart-2-notes.html"><i class="fa fa-check"></i>Section 2 Chart 2 Peer Review Sample with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-1.html"><a href="peer-3-sample-1.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 1</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-1-notes.html"><a href="peer-3-sample-1-notes.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 1 with Notes</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-2.html"><a href="peer-3-sample-2.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 2</a></li>
<li class="chapter" data-level="" data-path="peer-3-sample-2-notes.html"><a href="peer-3-sample-2-notes.html"><i class="fa fa-check"></i>Section 3 Peer Review Sample 2 with Notes</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>15</b> Publishing with Bookdown</a>
<ul>
<li><a href="style-guide.html#style-guide">Style Guide for <em>Hands-On Data Visualization</em></a></li>
<li class="chapter" data-level="" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i>Images</a></li>
<li class="chapter" data-level="" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i>Notes and Bibliography</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>16</b> References</a></li>
<li class="divider"></li>
<li style="padding: 10px 15px; font-weight: bold;">Open access book-in-progress</li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a></li>
<li><a href="https://bookdown.org" target="_blank">Built with Bookdown + RStudio</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hands-On Data Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="leaflet-maps-with-google-sheets" class="section level2 unnumbered" number="">
<h2>Leaflet Maps with Google Sheets template</h2>
<p>Question: If you have moved beyond simple drag-and-drop point map tool, such as <a href="mymaps.html">Google My Maps</a> tutorials in this book, and want to create point and/or polygon and/or polyline maps, where should you go?</p>
<p>Answer: Copy and customize our open-source template for Leaflet Maps with Google Sheets. Control the map options display data that you upload to your Google Sheet and GitHub repository. No coding skills required, other than pasting one line of code to link your map with your sheet. Requires two free accounts: Google and GitHub.</p>
<div id="video-and-list-of-features" class="section level4 unnumbered" number="">
<h4>Video and list of features</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/kUEfB8wD3Vk?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
</iframe>
<ul>
<li>Best to show points, polygons, and/or polylines, with table of points in map view</li>
<li>Free and open-source code template, built on Leaflet and linked to Google Sheets</li>
<li>Fork the code and host your live map on the web for free with GitHub Pages</li>
<li>Geocode location data with US Census or Google, using script inside the Google Sheet</li>
<li>Easy-to-modify data labels and map options in Google Sheet tabs or uploaded CSV files</li>
<li>Upload your polygon and polyline GeoJSON files, and custom markers, to your GitHub repo</li>
<li>Show multiple polygon layers, each with their own color legend and ranges (numerical or text)</li>
<li>Responsive design resizes your maps to display inside most mobile devices</li>
</ul>
</div>
<div id="try-it-6" class="section level4 unnumbered" number="">
<h4>Try it</h4>
<p>Explore the map or right-click to <a href="https://handsondataviz.github.io/leaflet-maps-with-google-sheets/">view full-screen map in a new tab</a>
<iframe src="https://handsondataviz.github.io/leaflet-maps-with-google-sheets/" width="90%" height=500></iframe></p>
<p>The map pulls the point data and settings from a linked Google Sheet, which you can explore below or right-click to <a href="https://docs.google.com/spreadsheets/d/1ZxvU8eGyuN9M8GxTU9acKVJv70iC3px_m3EVFsOHN9g">view full-screen Sheet in a new tab</a>
<iframe src="https://docs.google.com/spreadsheets/d/1ZxvU8eGyuN9M8GxTU9acKVJv70iC3px_m3EVFsOHN9g/pubhtml?widget=true&amp;headers=false" width="90%" height=500></iframe></p>
</div>
<div id="part-1-create-and-customize-your-map" class="section level4 unnumbered" number="">
<h4>Part 1: Create and customize your map</h4>
<p>In the first part of this tutorial, you will learn how to create your own copy of the Leaflet Maps with Google Sheets template, publish your Google Sheet, and paste its web address into your GitHub repo.</p>
<ul>
<li><ol style="list-style-type: upper-alpha">
<li>Fork (copy) the code template and publish your version with GitHub Pages</li>
</ol></li>
<li><ol start="2" style="list-style-type: upper-alpha">
<li>File &gt; Make a Copy of Google Sheet template, Share, and File &gt; Publish</li>
</ol></li>
<li><ol start="3" style="list-style-type: upper-alpha">
<li>Paste your Google Sheet URL in two places in your GitHub repo</li>
</ol></li>
<li><ol start="4" style="list-style-type: upper-alpha">
<li>Modify your map settings in the Options tab and test your live map</li>
</ol></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-nGdrzMuUnI?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
</iframe>
</div>
<div id="part-2-upload-and-display-your-map-data" class="section level4 unnumbered" number="">
<h4>Part 2: Upload and display your map data</h4>
<p>In the second part of this tutorial, you will learn how to geocode and customize your own point markers, and either hide or upload your own polygon and/or polyline GeoJSON data.</p>
<ul>
<li><ol start="5" style="list-style-type: upper-alpha">
<li>Geocode locations and customize new markers in the Points tab</li>
</ol></li>
<li><ol start="6" style="list-style-type: upper-alpha">
<li>Hide the polygon and polyline legends and default GeoJSON data</li>
</ol></li>
<li><ol start="7" style="list-style-type: upper-alpha">
<li>Upload and display your own polygon GeoJSON data</li>
</ol></li>
<li><ol start="8" style="list-style-type: upper-alpha">
<li>Upload and display your own polyline GeoJSON data</li>
</ol></li>
<li><ol style="list-style-type: upper-roman">
<li>Upload and display customized marker icons</li>
</ol></li>
<li><ol start="10" style="list-style-type: upper-alpha">
<li>Optional: Save Google Sheets as CSV and upload to GitHub</li>
</ol></li>
<li>** TO DO: second half video**</li>
</ul>
<p>To solve problems, see <a href="fix-code.html">Fix Common GitHub and Code Errors</a> chapter in this book.</p>
</div>
<div id="a-fork-copy-the-code-template-and-publish-your-version-with-github-pages" class="section level4 unnumbered" number="">
<h4>A) Fork (copy) the code template and publish your version with GitHub Pages</h4>
<p><strong>Before you begin</strong>, this tutorial assumes that you:</p>
<ul>
<li>have a <a href="http://drive.google.com">free Google Drive account</a>, and learned the <a href="copy.html">File &gt; Make a Copy in Google Sheets</a> tutorial in this book</li>
<li>have a <a href="http://github.com">free GitHub account</a>, and understand concepts from the <a href="github.html">Modify and Host Code with GitHub</a> chapter in this book</li>
</ul>
<ol style="list-style-type: decimal">
<li><p>Right-click to open this GitHub code template in a new tab: <a href="https://github.com/handsondataviz/leaflet-maps-with-google-sheets" class="uri">https://github.com/handsondataviz/leaflet-maps-with-google-sheets</a></p></li>
<li><p>In the upper-right corner of the code template, sign in to your free GitHub account</p></li>
<li><p>In the upper-right corner, click Fork to copy the template (also called a code repository, or repo) into your own account.
The web address (URL) of the new copy in your account will follow this format:</p></li>
</ol>
<div class="sourceCode" id="cb51"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb51-1"><a href="leaflet-maps-with-google-sheets.html#cb51-1"></a>https://github.com/USERNAME/leaflet-maps-with-google-sheets</span></code></pre></div>
<p>Reminder: You can only fork a GitHub repo <strong>one time</strong>. If needed, see how to make a second copy in the <a href="create-repo.html">Create a New Repo in GitHub</a> chapter in this book.</p>
<ol start="4" style="list-style-type: decimal">
<li><p>In your new copy of the code repo, click on Settings, scroll down to the GitHub Pages area, select Master, and Save. This publishes your code to a live map on a public website that you control.</p></li>
<li><p>Scroll down to GitHub Pages section again, and copy the link to your published web site, which will follow this format:</p></li>
</ol>
<div class="sourceCode" id="cb52"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb52-1"><a href="leaflet-maps-with-google-sheets.html#cb52-1"></a>https://USERNAME.github.io/leaflet-maps-with-google-sheets</span></code></pre></div>
<div class="figure"><span id="fig:lmwgs-1"></span>
<iframe src="images/10-leaflet/lmwgs-1-fork-640.gif" width="672" height="400px">
</iframe>
<p class="caption">
Figure 10.1: Screencast: Fork
</p>
</div>
<ol start="6" style="list-style-type: decimal">
<li><p>Scroll up to the top, and click on your repo name to go back to its main page.</p></li>
<li><p>At the top level of your repo main page, click on README.md, and click the pencil icon to edit this file, written in easy-to-read Markdown code.</p></li>
<li><p>Delete the link to the current live site, and paste in the link to YOUR site. Scroll down and Commit to save your edits.</p></li>
<li><p>On your repo main page, right-click the link to your live map to open in a new tab. <strong>Be patient</strong> during busy periods on GitHub, when your website may take up to 1 minute to appear the first time.</p></li>
</ol>
</div>
<div id="b-file-make-a-copy-of-google-sheet-template-share-and-file-publish" class="section level4 unnumbered" number="">
<h4>B) File &gt; Make a Copy of Google Sheet template, Share, and File &gt; Publish</h4>
<ol style="list-style-type: decimal">
<li><p>Right-click to open this Google Sheets template in a new tab: <a href="https://docs.google.com/spreadsheets/d/1ZxvU8eGyuN9M8GxTU9acKVJv70iC3px_m3EVFsOHN9g" class="uri">https://docs.google.com/spreadsheets/d/1ZxvU8eGyuN9M8GxTU9acKVJv70iC3px_m3EVFsOHN9g</a></p></li>
<li><p>Sign into your Google account</p></li>
<li><p>File &gt; Make a Copy of the Google Sheet template to your Google Drive</p></li>
<li><p>Click the blue Share button, click Advanced, click to change Private to Anyone with the link &gt; Can View the Sheet. This will make your public data easier to view in your map.</p></li>
</ol>
<div class="figure"><span id="fig:lmwgs-2"></span>
<iframe src="images/10-leaflet/lmwgs-2-make-copy-640.gif" width="672" height="400px">
</iframe>
<p class="caption">
Figure 10.2: Screencast: Share Google Sheet
</p>
</div>
<ol start="5" style="list-style-type: decimal">
<li>File &gt; Publish the Link to your Google Sheet to the public web, so the Leaflet map code can read it.</li>
</ol>
<div class="figure">
<img src="images/10-leaflet/lmwgs-file-publish.png" alt="" />
<p class="caption">Screenshot: File &gt; Publish the link to your Google Sheet</p>
</div>
<ol start="6" style="list-style-type: decimal">
<li>At the top of your browser, copy your Google Sheet web address or URL (which usually ends in <code>...XYZ/edit#gid=0</code>). Do NOT copy the published URL (which usually ends in <code>...XYZ/pubhtml</code>).</li>
</ol>
<div class="figure">
<img src="images/10-leaflet/lmwgs-copy-sheet-url-not-pub-url.png" alt="" />
<p class="caption">Screenshot: Copy the Google Sheet URL, not the Publish URL</p>
</div>
</div>
<div id="c-paste-your-google-sheet-url-in-two-places-in-your-github-repo" class="section level4 unnumbered" number="">
<h4>C) Paste your Google Sheet URL in two places in your GitHub repo</h4>
<ol style="list-style-type: decimal">
<li><p>First, connect your Google Sheet directly to your Leaflet Map code. In your Github code repo, click to open this file: <code>google-doc-url.js</code></p></li>
<li><p>Click the pencil symbol to edit the file.</p></li>
<li><p>Paste your Google Sheet URL into the code to replace the current URL. Do not delete the single-quotation marks or semicolon.</p></li>
<li><p>Scroll to bottom of page and press Commit to save your changes. Now the Leaflet Map code can locate your published Google Sheet.</p></li>
</ol>
<div class="figure"><span id="fig:lmwgs-paste"></span>
<iframe src="images/10-leaflet/lmwgs-paste-google-sheet-into-code.gif" width="672" height="400px">
</iframe>
<p class="caption">
Figure 10.3: Screencast: Copy Google Sheet URL and paste into GitHub code
</p>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Next, let’s paste your Google Sheet URL in a second place to keep track of it. Go to the README.md file in your GitHub repo, click to open and edit, and paste your Google Sheet web address to replace the existing link near the top. Commit to save your changes.</li>
</ol>
</div>
<div id="d-modify-your-map-settings-in-the-options-tab-and-test-your-live-map" class="section level4 unnumbered" number="">
<h4>D) Modify your map settings in the Options tab and test your live map</h4>
<p>In the top-level of your GitHub repo, test the new links to your map and your Google Sheet to make sure they work and point to your versions.</p>
<p>** TO DO - redo GIF **</p>
<p>In your linked Google Sheet, go to the Options Tab and modify these items:</p>
<ol style="list-style-type: decimal">
<li><p>Map Title – insert your own title</p></li>
<li><p>Map Subtitle – insert your own version</p></li>
<li><p>Author Name – insert your own name, or first name, or initials (will be public)</p></li>
<li><p>Author Email or Website – insert your own (will be public), or delete the current name to make it blank</p></li>
</ol>
<p>Open the link to your live map in a new browser tab and refresh to see your changes.</p>
</div>
<div id="e-geocode-locations-and-customize-new-markers-in-the-points-tab" class="section level4 unnumbered" number="">
<h4>E) Geocode locations and customize new markers in the Points tab</h4>
<p>In your new map, our next goal is to add and modify the appearance of a new set of point markers, based on new addresses that you will enter and geocode.</p>
<p>In the Points tab of your Google Sheet:</p>
<ol style="list-style-type: decimal">
<li>Think of a simple data story that involves at least four geocodeable locations, divided into at least two groups. If you need an example, use this sample table of “Famous Places in New York City”:</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="left">Group</th>
<th align="left">Name</th>
<th align="left">Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Landmark</td>
<td align="left">Empire State Building</td>
<td align="left">350 5th Ave, New York, NY 10118</td>
</tr>
<tr class="even">
<td align="left">Landmark</td>
<td align="left">Metropolitan Museum of Art</td>
<td align="left">1000 5th Ave, New York, NY 10028</td>
</tr>
<tr class="odd">
<td align="left">Transit</td>
<td align="left">Grand Central Terminal</td>
<td align="left">89 E 42nd St, New York, NY 10017</td>
</tr>
<tr class="even">
<td align="left">Transit</td>
<td align="left">Penn Station</td>
<td align="left">159 West 33rd Street, New York, NY 10120</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li><p>Enter your Group, Name, and Location data into new rows below the current data.</p></li>
<li><p>Go to the Font Awesome Icons site, <a href="http://fontawesome.io/icons" class="uri">http://fontawesome.io/icons</a>, scroll down to Search Icons, find your desired icon code name, and insert this into the Marker Icon (column B) of your Points sheet. For example, search for and insert the icon code “train” or “building” to display markers with either of these symbols in your map. (To upload your own customized marker, see section H further below.)</p></li>
<li><p>In Marker Color (column C), use the drop-down menu to select a marker color.</p></li>
<li><p>In Icon Color (column D), insert a color word (example: white) or hex code (example: #fff) to color the icon symbol inside your marker. Recommended: use white icon colors with dark marker colors.</p></li>
<li><p>Leave Custom Size (column E) blank.</p></li>
<li><p>Optional:</p></li>
</ol>
<ul>
<li>In Image (column G), insert the URL (preferably <a href="https://" class="uri">https://</a>, not <a href="http://" class="uri">http://</a>) of a small-to-medium sized image on the web</li>
<li>In Description (column G), insert text and/or a web link enclosed with an <a href="https://www.w3schools.com/tags/tag_a.asp">HTML a href tag with target set to blank</a></li>
</ul>
<ol start="8" style="list-style-type: decimal">
<li><p>Do NOT delete or rename any column headers. However, you have the option to add new column headers to display in your map table.</p></li>
<li><p>Geocode your new data inside your Google Sheet by dragging your cursor to select 6 columns of data: Location - Latitude - Longitude - Found - Quality - Source</p></li>
<li><p>In the Geocoder menu that appears in this Google Sheet template, select one of the geocoding services. If one service cannot locate your data, try the other. Always inspect the accuracy of the Found column.</p></li>
</ol>
<p>Open the link to your live map in a new browser tab and refresh to see your changes. If your new markers appear correctly, then delete the existing rows that came with this template.</p>
</div>
<div id="f-hide-the-polygon-and-polyline-legends-and-default-geojson-data" class="section level4 unnumbered" number="">
<h4>F) Hide the polygon and polyline legends and default GeoJSON data</h4>
<p>To show a simple point map, learn how to turn off and hide the polygon and polyline legend and default data that came with this template. (See how to add your own GeoJSON data in section G below.)</p>
<p>In your linked Google Sheet:</p>
<ol style="list-style-type: decimal">
<li><p>In the Options tab, Polyline Legend Position (cell B 35) – select Off to hide the legend</p></li>
<li><p>In the Polygons tab, Polygon Legend Position (cell B 4) – select Off to hide the legend</p></li>
<li><p>In the Polygons tab, Polygon GeoJSON URL (cell B 6) – delete contents to remove polygons</p></li>
<li><p>Go to the next tab, named Polygons1, in its drop-down menu, select Delete to remove sheet</p></li>
<li><p>In the Polylines tab, delete the entire row (rows 2 and 3) to remove the existing lines</p></li>
</ol>
<p>Go to the browser tab with your new map, and refresh the page to see your changes.</p>
<p>Optional:</p>
<ul>
<li>in the Options tab, Display Table (cell B 29), turn off to hide the table in your map</li>
<li>or modify the list of item in Table Columns (cell B 30) to change the display in your table</li>
</ul>
</div>
<div id="g-upload-and-display-your-own-polygon-geojson-data" class="section level4 unnumbered" number="">
<h4>G) Upload and display your own polygon GeoJSON data</h4>
<ol style="list-style-type: decimal">
<li>Prepare your polygon file in GeoJSON format. View or modify the GeoJSON file properties (such as name, data fields, etc.) with one of these tools:</li>
</ol>
<ul>
<li>GeoJSON.io, <a href="http://geojson.io" class="uri">http://geojson.io</a> – Drag-and-drop your file, and select the Table tab to view or rename properties. See <a href="geojsonio.html">GeoJSON.io tutorial</a> in this book, OR</li>
<li>MapShaper, <a href="http://mapshaper.org" class="uri">http://mapshaper.org</a> – Drag-and-drop your file. To edit, see <a href="mapshaper.html">MapShaper tutorial</a> in this book</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>In your GitHub repo, click to open the Geometry subfolder, then click Upload Files, drag-and-drop your geojson file, and Commit changes</li>
</ol>
<p>** TO DO ** - turn on settings that you turned off in step F above</p>
<ol start="3" style="list-style-type: decimal">
<li>In your linked Google sheet, go to Polygons tab to adjust these settings:</li>
</ol>
<ul>
<li>change Polygon GeoJSON URL (cell B 6) to match the pathname of the file you uploaded above</li>
<li>change Polygon GeoJSON Name (cell B 5) to the title to be displayed for this polygon layer</li>
<li>change Polygon Legend Title (cell B 3) for the title in the polygon legend box</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li><p>To adjust the polygon legend colors and range, see the Polygon Data and Color Settings sections of the Polygon tab in Google Sheets.</p></li>
<li><p>The code supports multiple polygon layers, which you can add (or delete) by duplicating the Polygons tab. Name them Polygons1, Polygons2, etc.</p></li>
</ol>
<ul>
<li>TO DO *</li>
<li>Explain: To use both the automatic ColorBrewer Palette and manual colors, insert blanks (goes to automatic palette above), separated by semicolons.</li>
</ul>
</div>
<div id="h-upload-and-display-your-own-polyline-geojson-data" class="section level4 unnumbered" number="">
<h4>H) Upload and display your own polyline GeoJSON data</h4>
<p>Follow similar steps as described in the Polygon section above, but adjust settings in the Polylines tab of your linked Google Sheet.</p>
</div>
<div id="i-upload-and-display-customized-marker-icons" class="section level4 unnumbered" number="">
<h4>I) Upload and display customized marker icons</h4>
<p>** TO DO **</p>
</div>
<div id="j-optional-save-google-sheets-as-csv-and-upload-to-github" class="section level4 unnumbered" number="">
<h4>J) Optional: Save Google Sheets as CSV and upload to GitHub</h4>
<p>If desired, you can save your table data with your code, rather than in a separate Google Sheet. Go to each Sheet tab and File &gt; Save As in CSV format, with these file names:</p>
<ul>
<li>options.csv</li>
<li>points.csv</li>
<li>polygons.csv (also: polygons1.csv, polygons2.csv, etc.)</li>
<li>polylines.csv</li>
<li>notes.csv (or .txt)</li>
</ul>
<p>Upload these files into the main level of your GitHub code repository, where the template will process them automatically.</p>
</div>
<div id="learn-more-13" class="section level4 unnumbered" number="">
<h4>Learn more</h4>
<p>To solve problems, see <a href="fix-code.html">Fix Common GitHub and Code Errors</a> chapter in this book.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="leaflet-csv.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="leaflet-storymaps-with-google-sheets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/handsondataviz/book/blob/master/10-leaflet.Rmd",
"text": null
},
"download": ["HandsOnDataViz.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
